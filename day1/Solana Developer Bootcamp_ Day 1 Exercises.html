<!DOCTYPE html>
<!-- saved from url=(0127)https://docs.google.com/document/d/e/2PACX-1vSOgwdz9-vpBDwh3Epr3fdjzGyMWB1GHNT4H7YysNRyBFRJ0_qpcafgGcZUgNJLoyTH9IBVBaaInHsc/pub -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Solana Developer Bootcamp: Day 1 Exercises</title><link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico"><meta name="referrer" content="strict-origin-when-cross-origin"><style type="text/css" nonce="">
      @import url("https://fonts.googleapis.com/css?family=Google+Sans");
      @import url("https://fonts.googleapis.com/css?family=Roboto");

      body {
        font-family: Roboto, arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #banners {
        align-items: center;
        background: white;
        display: block;
        justify-content: space-between;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
      }

      #banners #publish-banner {
        background-color: #e8f0fe;
        border-bottom: 1px #ccc solid;
        color: #202124;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #publish-banner-icon {
        display: flex;
        fill: #1967d2;
        margin: auto 20px;
      }

      #publish-banner-text {
        flex-grow: 1;
        margin: auto 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      #publish-banner-buttons {
        margin: auto 25px auto 0;
      }

      #publish-banner-buttons span {
        align-self: center;
        background-color: inherit;
        border: none;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        margin: 0 16px 0 32px;
      }

      #publish-banner-buttons a {
        color: #1967d2;
        cursor: pointer;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
        text-decoration: none;
      }

      #banners #title-banner {
        background: white;
        border-bottom: 1px #ccc solid;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #banners #title-banner #title {
        flex-grow: 1;
        font-family: 'Google Sans';
        font-size: large;
        margin: auto 0 auto 20px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 70%;
      }

      #banners #title-banner #interval {
        margin: auto 25px auto 0;
        font-family: Roboto;
        font-size: small;;
      }

      #footer {
        background: #f0f0f0;
        border-bottom: 1px #ccc solid;
        bottom: 0;
        font-family: Roboto;
        font-size: small;
        padding: 10px 10px;
        position: fixed;
        text-align: center;
        width: 100%;
      }

      @media only screen and (max-device-width: 800px) {
        #banners #title-banner {
          border-bottom-width: 5px;
          height: auto;
          display: block;
        }

        #banners #title-banner #title {
          font-size: 3em;
          margin: auto 0 auto 20px;
          width: 90%;
        }

        #banners #title-banner #interval {
          font-size: 1.5em;
          margin: 10px 0 auto 25px;
        }

        #footer {
          font-size: 2em;
        }
      }

      .dash {
        padding: 0 6px;
      }

    
        #contents {
          padding: 100px 20% 50px 20%;
        }

        @media only screen and (max-device-width: 800px) {
          #contents {
            padding: 150px 5% 80px;
          }
        }
      </style></head><body><div id="banners"><div id="publish-banner"><span id="publish-banner-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg></span><div id="publish-banner-text">Published using Google Docs</div><div id="publish-banner-buttons"><span><a target="_blank" title="Learn more" href="https://support.google.com/docs/answer/183965">Learn more</a></span><span><a href="https://docs.google.com/u/0/abuse?id=AKkXjoxSFkmkzfTntBcLkOQ5vfifSgIij3wGsGybmzZxnbFnuHYBCUkhqNKulQJ8ci-yKD2XofCxR17UyhVZd1Q:0">Report Abuse</a></span></div></div><div id="title-banner"><div id="title">Solana Developer Bootcamp: Day 1 Exercises</div><div id="interval"><span>Updated automatically every 5 minutes</span></div></div></div><div id="contents"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ol.lst-kix_5r707wnxlc8q-8.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-8 0}.lst-kix_ert7tarw26lg-6>li{counter-increment:lst-ctn-kix_ert7tarw26lg-6}.lst-kix_5r707wnxlc8q-7>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-7}.lst-kix_4tl7ojy5nck7-6>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-6}.lst-kix_bim5npz958gh-6>li:before{content:"-  "}.lst-kix_bim5npz958gh-8>li:before{content:"-  "}ol.lst-kix_4tl7ojy5nck7-3.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-3 0}.lst-kix_749cu4ytl471-6>li{counter-increment:lst-ctn-kix_749cu4ytl471-6}ol.lst-kix_1t89carownqn-6.start{counter-reset:lst-ctn-kix_1t89carownqn-6 0}.lst-kix_bim5npz958gh-7>li:before{content:"-  "}ol.lst-kix_aisvtto6q6vp-3.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-3 0}ol.lst-kix_8ysb68z6yl1o-1.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-1 0}.lst-kix_8ysb68z6yl1o-1>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-1}ol.lst-kix_749cu4ytl471-4.start{counter-reset:lst-ctn-kix_749cu4ytl471-4 0}ol.lst-kix_nxqzz6tm7zah-7.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-7 0}ol.lst-kix_1t89carownqn-0.start{counter-reset:lst-ctn-kix_1t89carownqn-0 0}.lst-kix_4tl7ojy5nck7-4>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-4}ol.lst-kix_1t89carownqn-7{list-style-type:none}ol.lst-kix_ert7tarw26lg-5.start{counter-reset:lst-ctn-kix_ert7tarw26lg-5 0}ol.lst-kix_1t89carownqn-6{list-style-type:none}ol.lst-kix_1t89carownqn-5{list-style-type:none}.lst-kix_bim5npz958gh-0>li:before{content:"-  "}ol.lst-kix_1t89carownqn-4{list-style-type:none}ol.lst-kix_1t89carownqn-8{list-style-type:none}.lst-kix_bim5npz958gh-3>li:before{content:"-  "}.lst-kix_bim5npz958gh-2>li:before{content:"-  "}.lst-kix_bim5npz958gh-4>li:before{content:"-  "}ol.lst-kix_nxqzz6tm7zah-1.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-1 0}ol.lst-kix_1t89carownqn-3{list-style-type:none}.lst-kix_bim5npz958gh-1>li:before{content:"-  "}ol.lst-kix_1t89carownqn-2{list-style-type:none}ol.lst-kix_1t89carownqn-1{list-style-type:none}ol.lst-kix_1t89carownqn-0{list-style-type:none}.lst-kix_bim5npz958gh-5>li:before{content:"-  "}.lst-kix_5r707wnxlc8q-5>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-5}.lst-kix_ert7tarw26lg-0>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-0,decimal) ". "}.lst-kix_nxqzz6tm7zah-7>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-7}.lst-kix_gv9xvothb3fy-1>li:before{content:"\0025cb  "}.lst-kix_ert7tarw26lg-2>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-2,lower-roman) ". "}.lst-kix_ert7tarw26lg-1>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-1,lower-latin) ". "}.lst-kix_gv9xvothb3fy-2>li:before{content:"\0025a0  "}ol.lst-kix_1t89carownqn-1.start{counter-reset:lst-ctn-kix_1t89carownqn-1 0}.lst-kix_ert7tarw26lg-4>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-4,lower-latin) ". "}.lst-kix_4tl7ojy5nck7-8>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-8}.lst-kix_gv9xvothb3fy-3>li:before{content:"\0025cf  "}ol.lst-kix_aisvtto6q6vp-8.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-8 0}.lst-kix_ert7tarw26lg-3>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-3,decimal) ". "}.lst-kix_gv9xvothb3fy-4>li:before{content:"\0025cb  "}ol.lst-kix_4tl7ojy5nck7-8.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-8 0}ol.lst-kix_8ysb68z6yl1o-4{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-5{list-style-type:none}.lst-kix_749cu4ytl471-8>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-8,lower-roman) ". "}ol.lst-kix_8ysb68z6yl1o-6{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-7{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-0{list-style-type:none}.lst-kix_5r707wnxlc8q-0>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-0,decimal) ". "}ol.lst-kix_8ysb68z6yl1o-1{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-2{list-style-type:none}.lst-kix_5r707wnxlc8q-1>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-1,lower-latin) ". "}ol.lst-kix_8ysb68z6yl1o-3{list-style-type:none}.lst-kix_gv9xvothb3fy-0>li:before{content:"\0025cf  "}.lst-kix_5r707wnxlc8q-2>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-2,lower-roman) ". "}.lst-kix_749cu4ytl471-4>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-4,lower-latin) ". "}.lst-kix_749cu4ytl471-5>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-5,lower-roman) ". "}ol.lst-kix_8ysb68z6yl1o-8{list-style-type:none}.lst-kix_749cu4ytl471-2>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-2,lower-roman) ". "}.lst-kix_749cu4ytl471-3>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-3,decimal) ". "}.lst-kix_749cu4ytl471-6>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-6,decimal) ". "}.lst-kix_749cu4ytl471-7>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-7,lower-latin) ". "}.lst-kix_5r707wnxlc8q-3>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-3,decimal) ". "}.lst-kix_5r707wnxlc8q-6>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-6,decimal) ". "}.lst-kix_aisvtto6q6vp-7>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-7}.lst-kix_ert7tarw26lg-8>li{counter-increment:lst-ctn-kix_ert7tarw26lg-8}.lst-kix_ert7tarw26lg-2>li{counter-increment:lst-ctn-kix_ert7tarw26lg-2}.lst-kix_5r707wnxlc8q-4>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-4,lower-latin) ". "}.lst-kix_5r707wnxlc8q-5>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-5,lower-roman) ". "}.lst-kix_ert7tarw26lg-8>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-8,lower-roman) ". "}.lst-kix_gv9xvothb3fy-7>li:before{content:"\0025cb  "}ol.lst-kix_749cu4ytl471-3.start{counter-reset:lst-ctn-kix_749cu4ytl471-3 0}ol.lst-kix_ert7tarw26lg-0.start{counter-reset:lst-ctn-kix_ert7tarw26lg-0 0}.lst-kix_4tl7ojy5nck7-2>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-2}.lst-kix_1t89carownqn-8>li{counter-increment:lst-ctn-kix_1t89carownqn-8}.lst-kix_ert7tarw26lg-6>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-6,decimal) ". "}.lst-kix_gv9xvothb3fy-5>li:before{content:"\0025a0  "}ol.lst-kix_nxqzz6tm7zah-6.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-6 0}ol.lst-kix_ert7tarw26lg-6.start{counter-reset:lst-ctn-kix_ert7tarw26lg-6 0}.lst-kix_ert7tarw26lg-5>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-5,lower-roman) ". "}.lst-kix_gv9xvothb3fy-6>li:before{content:"\0025cf  "}.lst-kix_5r707wnxlc8q-7>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-7,lower-latin) ". "}.lst-kix_749cu4ytl471-0>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-0,decimal) ". "}.lst-kix_749cu4ytl471-1>li:before{content:"" counter(lst-ctn-kix_749cu4ytl471-1,lower-latin) ". "}.lst-kix_5r707wnxlc8q-8>li:before{content:"" counter(lst-ctn-kix_5r707wnxlc8q-8,lower-roman) ". "}.lst-kix_ert7tarw26lg-7>li:before{content:"" counter(lst-ctn-kix_ert7tarw26lg-7,lower-latin) ". "}.lst-kix_gv9xvothb3fy-8>li:before{content:"\0025a0  "}.lst-kix_8ysb68z6yl1o-6>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-6}.lst-kix_1t89carownqn-3>li{counter-increment:lst-ctn-kix_1t89carownqn-3}.lst-kix_nxqzz6tm7zah-4>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-4}.lst-kix_4tl7ojy5nck7-0>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-0}ul.lst-kix_gv9xvothb3fy-1{list-style-type:none}ul.lst-kix_gv9xvothb3fy-0{list-style-type:none}.lst-kix_1t89carownqn-0>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-0,decimal) ". "}.lst-kix_1t89carownqn-2>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-2,lower-roman) ". "}.lst-kix_1t89carownqn-4>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-4,lower-latin) ". "}.lst-kix_8ysb68z6yl1o-7>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-7}ol.lst-kix_5r707wnxlc8q-7.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-7 0}.lst-kix_4tl7ojy5nck7-1>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-1}ol.lst-kix_aisvtto6q6vp-2.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-2 0}ol.lst-kix_749cu4ytl471-2.start{counter-reset:lst-ctn-kix_749cu4ytl471-2 0}ol.lst-kix_8ysb68z6yl1o-2.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-2 0}.lst-kix_8ysb68z6yl1o-5>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-5}.lst-kix_1t89carownqn-4>li{counter-increment:lst-ctn-kix_1t89carownqn-4}.lst-kix_8ysb68z6yl1o-5>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-5,lower-roman) ". "}.lst-kix_5r707wnxlc8q-2>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-2}.lst-kix_nxqzz6tm7zah-2>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-2}.lst-kix_aisvtto6q6vp-0>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-0}.lst-kix_8ysb68z6yl1o-7>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-7,lower-latin) ". "}ol.lst-kix_749cu4ytl471-3{list-style-type:none}ol.lst-kix_749cu4ytl471-2{list-style-type:none}.lst-kix_8ysb68z6yl1o-1>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-1,lower-latin) ". "}ol.lst-kix_749cu4ytl471-1{list-style-type:none}.lst-kix_ert7tarw26lg-3>li{counter-increment:lst-ctn-kix_ert7tarw26lg-3}ol.lst-kix_749cu4ytl471-0{list-style-type:none}.lst-kix_aisvtto6q6vp-6>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-6,decimal) ". "}.lst-kix_8ysb68z6yl1o-3>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-3,decimal) ". "}.lst-kix_nxqzz6tm7zah-1>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-1,lower-latin) ". "}.lst-kix_aisvtto6q6vp-8>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-8,lower-roman) ". "}.lst-kix_5r707wnxlc8q-3>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-3}.lst-kix_ert7tarw26lg-4>li{counter-increment:lst-ctn-kix_ert7tarw26lg-4}.lst-kix_nxqzz6tm7zah-3>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-3,decimal) ". "}.lst-kix_nxqzz6tm7zah-7>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-7,lower-latin) ". "}ol.lst-kix_aisvtto6q6vp-5.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-5 0}ol.lst-kix_nxqzz6tm7zah-2.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-2 0}.lst-kix_aisvtto6q6vp-5>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-5}.lst-kix_nxqzz6tm7zah-5>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-5,lower-roman) ". "}.lst-kix_4tl7ojy5nck7-7>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-7}ol.lst-kix_749cu4ytl471-0.start{counter-reset:lst-ctn-kix_749cu4ytl471-0 0}ol.lst-kix_5r707wnxlc8q-2{list-style-type:none}.lst-kix_1t89carownqn-8>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-8,lower-roman) ". "}.lst-kix_749cu4ytl471-4>li{counter-increment:lst-ctn-kix_749cu4ytl471-4}ol.lst-kix_5r707wnxlc8q-1{list-style-type:none}ol.lst-kix_5r707wnxlc8q-0{list-style-type:none}ol.lst-kix_5r707wnxlc8q-6{list-style-type:none}ol.lst-kix_5r707wnxlc8q-5{list-style-type:none}ol.lst-kix_5r707wnxlc8q-4{list-style-type:none}ol.lst-kix_5r707wnxlc8q-3{list-style-type:none}.lst-kix_nxqzz6tm7zah-3>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-3}.lst-kix_1t89carownqn-6>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-6,decimal) ". "}ul.lst-kix_gv9xvothb3fy-5{list-style-type:none}ul.lst-kix_gv9xvothb3fy-4{list-style-type:none}ul.lst-kix_gv9xvothb3fy-3{list-style-type:none}ul.lst-kix_gv9xvothb3fy-2{list-style-type:none}ul.lst-kix_gv9xvothb3fy-8{list-style-type:none}ul.lst-kix_gv9xvothb3fy-7{list-style-type:none}ul.lst-kix_gv9xvothb3fy-6{list-style-type:none}ol.lst-kix_aisvtto6q6vp-4.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-4 0}ol.lst-kix_749cu4ytl471-7{list-style-type:none}ol.lst-kix_749cu4ytl471-6{list-style-type:none}ol.lst-kix_749cu4ytl471-5{list-style-type:none}ol.lst-kix_5r707wnxlc8q-8{list-style-type:none}ol.lst-kix_749cu4ytl471-4{list-style-type:none}ol.lst-kix_5r707wnxlc8q-7{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-3.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-3 0}ol.lst-kix_8ysb68z6yl1o-0.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-0 0}ol.lst-kix_749cu4ytl471-8{list-style-type:none}ol.lst-kix_aisvtto6q6vp-6.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-6 0}ol.lst-kix_749cu4ytl471-1.start{counter-reset:lst-ctn-kix_749cu4ytl471-1 0}.lst-kix_8ysb68z6yl1o-0>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-0}.lst-kix_5r707wnxlc8q-6>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-6}ol.lst-kix_1t89carownqn-3.start{counter-reset:lst-ctn-kix_1t89carownqn-3 0}ol.lst-kix_5r707wnxlc8q-5.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-5 0}.lst-kix_ert7tarw26lg-7>li{counter-increment:lst-ctn-kix_ert7tarw26lg-7}ol.lst-kix_ert7tarw26lg-2.start{counter-reset:lst-ctn-kix_ert7tarw26lg-2 0}ol.lst-kix_8ysb68z6yl1o-4.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-4 0}.lst-kix_aisvtto6q6vp-8>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-8}ol.lst-kix_4tl7ojy5nck7-6.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-6 0}ol.lst-kix_aisvtto6q6vp-0.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-0 0}ol.lst-kix_nxqzz6tm7zah-4.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-4 0}.lst-kix_nxqzz6tm7zah-8>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-8}.lst-kix_1t89carownqn-7>li{counter-increment:lst-ctn-kix_1t89carownqn-7}.lst-kix_aisvtto6q6vp-0>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-0,decimal) ". "}.lst-kix_aisvtto6q6vp-6>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-6}.lst-kix_aisvtto6q6vp-1>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-1,lower-latin) ". "}.lst-kix_aisvtto6q6vp-3>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-3,decimal) ". "}.lst-kix_aisvtto6q6vp-2>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-2,lower-roman) ". "}ol.lst-kix_ert7tarw26lg-8.start{counter-reset:lst-ctn-kix_ert7tarw26lg-8 0}.lst-kix_8ysb68z6yl1o-2>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-2}.lst-kix_749cu4ytl471-5>li{counter-increment:lst-ctn-kix_749cu4ytl471-5}ol.lst-kix_4tl7ojy5nck7-8{list-style-type:none}.lst-kix_aisvtto6q6vp-5>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-5,lower-roman) ". "}ol.lst-kix_4tl7ojy5nck7-6{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-7{list-style-type:none}.lst-kix_5r707wnxlc8q-8>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-8}ol.lst-kix_4tl7ojy5nck7-4{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-5{list-style-type:none}.lst-kix_aisvtto6q6vp-4>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-4,lower-latin) ". "}ol.lst-kix_4tl7ojy5nck7-2{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-3{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-0{list-style-type:none}.lst-kix_nxqzz6tm7zah-1>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-1}ol.lst-kix_4tl7ojy5nck7-1{list-style-type:none}.lst-kix_5r707wnxlc8q-4>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-4}.lst-kix_749cu4ytl471-3>li{counter-increment:lst-ctn-kix_749cu4ytl471-3}ol.lst-kix_nxqzz6tm7zah-5.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-5 0}ol.lst-kix_ert7tarw26lg-7.start{counter-reset:lst-ctn-kix_ert7tarw26lg-7 0}ol.lst-kix_ert7tarw26lg-6{list-style-type:none}ol.lst-kix_ert7tarw26lg-7{list-style-type:none}ol.lst-kix_ert7tarw26lg-8{list-style-type:none}.lst-kix_8ysb68z6yl1o-4>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-4}ol.lst-kix_1t89carownqn-8.start{counter-reset:lst-ctn-kix_1t89carownqn-8 0}ol.lst-kix_4tl7ojy5nck7-1.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-1 0}.lst-kix_4tl7ojy5nck7-6>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-6,decimal) ". "}ol.lst-kix_aisvtto6q6vp-7.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-7 0}.lst-kix_4tl7ojy5nck7-4>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-4,lower-latin) ". "}.lst-kix_4tl7ojy5nck7-8>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-8,lower-roman) ". "}.lst-kix_4tl7ojy5nck7-3>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-3,decimal) ". "}.lst-kix_4tl7ojy5nck7-7>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-7,lower-latin) ". "}ol.lst-kix_4tl7ojy5nck7-7.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-7 0}ol.lst-kix_5r707wnxlc8q-0.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-0 0}ol.lst-kix_8ysb68z6yl1o-3.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-3 0}.lst-kix_1t89carownqn-2>li{counter-increment:lst-ctn-kix_1t89carownqn-2}.lst-kix_aisvtto6q6vp-1>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-1}ol.lst-kix_1t89carownqn-2.start{counter-reset:lst-ctn-kix_1t89carownqn-2 0}.lst-kix_1t89carownqn-5>li{counter-increment:lst-ctn-kix_1t89carownqn-5}.lst-kix_aisvtto6q6vp-4>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-4}.lst-kix_4tl7ojy5nck7-5>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-5,lower-roman) ". "}.lst-kix_ert7tarw26lg-5>li{counter-increment:lst-ctn-kix_ert7tarw26lg-5}ol.lst-kix_nxqzz6tm7zah-0.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-0 0}.lst-kix_4tl7ojy5nck7-0>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-0,decimal) ". "}.lst-kix_4tl7ojy5nck7-5>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-5}ol.lst-kix_4tl7ojy5nck7-0.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-0 0}.lst-kix_4tl7ojy5nck7-2>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-2,lower-roman) ". "}ol.lst-kix_5r707wnxlc8q-6.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-6 0}ol.lst-kix_aisvtto6q6vp-1.start{counter-reset:lst-ctn-kix_aisvtto6q6vp-1 0}.lst-kix_4tl7ojy5nck7-1>li:before{content:"" counter(lst-ctn-kix_4tl7ojy5nck7-1,lower-latin) ". "}.lst-kix_5r707wnxlc8q-1>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-1}ol.lst-kix_5r707wnxlc8q-1.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-1 0}.lst-kix_ert7tarw26lg-0>li{counter-increment:lst-ctn-kix_ert7tarw26lg-0}.lst-kix_1t89carownqn-1>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-1,lower-latin) ". "}.lst-kix_749cu4ytl471-0>li{counter-increment:lst-ctn-kix_749cu4ytl471-0}.lst-kix_aisvtto6q6vp-2>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-2}.lst-kix_1t89carownqn-3>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-3,decimal) ". "}.lst-kix_5r707wnxlc8q-0>li{counter-increment:lst-ctn-kix_5r707wnxlc8q-0}.lst-kix_ert7tarw26lg-1>li{counter-increment:lst-ctn-kix_ert7tarw26lg-1}ol.lst-kix_4tl7ojy5nck7-2.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-2 0}ol.lst-kix_ert7tarw26lg-0{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-5.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-5 0}ol.lst-kix_ert7tarw26lg-1{list-style-type:none}ol.lst-kix_ert7tarw26lg-2{list-style-type:none}ol.lst-kix_ert7tarw26lg-3{list-style-type:none}ol.lst-kix_749cu4ytl471-5.start{counter-reset:lst-ctn-kix_749cu4ytl471-5 0}ol.lst-kix_ert7tarw26lg-4{list-style-type:none}ol.lst-kix_ert7tarw26lg-5{list-style-type:none}ol.lst-kix_1t89carownqn-7.start{counter-reset:lst-ctn-kix_1t89carownqn-7 0}.lst-kix_nxqzz6tm7zah-8>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-8,lower-roman) ". "}.lst-kix_8ysb68z6yl1o-8>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-8}ol.lst-kix_ert7tarw26lg-1.start{counter-reset:lst-ctn-kix_ert7tarw26lg-1 0}ol.lst-kix_5r707wnxlc8q-4.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-4 0}ul.lst-kix_bim5npz958gh-6{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-5.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-5 0}ol.lst-kix_8ysb68z6yl1o-8.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-8 0}ul.lst-kix_bim5npz958gh-5{list-style-type:none}.lst-kix_aisvtto6q6vp-3>li{counter-increment:lst-ctn-kix_aisvtto6q6vp-3}ul.lst-kix_bim5npz958gh-8{list-style-type:none}.lst-kix_8ysb68z6yl1o-4>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-4,lower-latin) ". "}.lst-kix_8ysb68z6yl1o-6>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-6,decimal) ". "}ul.lst-kix_bim5npz958gh-7{list-style-type:none}.lst-kix_nxqzz6tm7zah-5>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-5}ol.lst-kix_1t89carownqn-4.start{counter-reset:lst-ctn-kix_1t89carownqn-4 0}ol.lst-kix_nxqzz6tm7zah-8.start{counter-reset:lst-ctn-kix_nxqzz6tm7zah-8 0}ul.lst-kix_bim5npz958gh-0{list-style-type:none}ol.lst-kix_749cu4ytl471-8.start{counter-reset:lst-ctn-kix_749cu4ytl471-8 0}.lst-kix_8ysb68z6yl1o-8>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-8,lower-roman) ". "}ul.lst-kix_bim5npz958gh-2{list-style-type:none}.lst-kix_1t89carownqn-1>li{counter-increment:lst-ctn-kix_1t89carownqn-1}ul.lst-kix_bim5npz958gh-1{list-style-type:none}.lst-kix_749cu4ytl471-2>li{counter-increment:lst-ctn-kix_749cu4ytl471-2}ul.lst-kix_bim5npz958gh-4{list-style-type:none}ul.lst-kix_bim5npz958gh-3{list-style-type:none}.lst-kix_1t89carownqn-6>li{counter-increment:lst-ctn-kix_1t89carownqn-6}ol.lst-kix_749cu4ytl471-6.start{counter-reset:lst-ctn-kix_749cu4ytl471-6 0}.lst-kix_8ysb68z6yl1o-3>li{counter-increment:lst-ctn-kix_8ysb68z6yl1o-3}.lst-kix_1t89carownqn-0>li{counter-increment:lst-ctn-kix_1t89carownqn-0}ol.lst-kix_ert7tarw26lg-4.start{counter-reset:lst-ctn-kix_ert7tarw26lg-4 0}.lst-kix_8ysb68z6yl1o-2>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-2,lower-roman) ". "}.lst-kix_749cu4ytl471-8>li{counter-increment:lst-ctn-kix_749cu4ytl471-8}ol.lst-kix_5r707wnxlc8q-3.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-3 0}ol.lst-kix_8ysb68z6yl1o-6.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-6 0}.lst-kix_nxqzz6tm7zah-0>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-0,decimal) ". "}.lst-kix_nxqzz6tm7zah-2>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-2,lower-roman) ". "}.lst-kix_aisvtto6q6vp-7>li:before{content:"" counter(lst-ctn-kix_aisvtto6q6vp-7,lower-latin) ". "}.lst-kix_4tl7ojy5nck7-3>li{counter-increment:lst-ctn-kix_4tl7ojy5nck7-3}.lst-kix_nxqzz6tm7zah-4>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-4,lower-latin) ". "}.lst-kix_nxqzz6tm7zah-6>li:before{content:"" counter(lst-ctn-kix_nxqzz6tm7zah-6,decimal) ". "}.lst-kix_8ysb68z6yl1o-0>li:before{content:"" counter(lst-ctn-kix_8ysb68z6yl1o-0,decimal) ". "}.lst-kix_749cu4ytl471-7>li{counter-increment:lst-ctn-kix_749cu4ytl471-7}ol.lst-kix_5r707wnxlc8q-2.start{counter-reset:lst-ctn-kix_5r707wnxlc8q-2 0}.lst-kix_749cu4ytl471-1>li{counter-increment:lst-ctn-kix_749cu4ytl471-1}ol.lst-kix_1t89carownqn-5.start{counter-reset:lst-ctn-kix_1t89carownqn-5 0}.lst-kix_nxqzz6tm7zah-0>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-0}ol.lst-kix_nxqzz6tm7zah-8{list-style-type:none}.lst-kix_1t89carownqn-5>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-5,lower-roman) ". "}ol.lst-kix_nxqzz6tm7zah-7{list-style-type:none}ol.lst-kix_4tl7ojy5nck7-4.start{counter-reset:lst-ctn-kix_4tl7ojy5nck7-4 0}ol.lst-kix_nxqzz6tm7zah-6{list-style-type:none}ol.lst-kix_749cu4ytl471-7.start{counter-reset:lst-ctn-kix_749cu4ytl471-7 0}ol.lst-kix_nxqzz6tm7zah-5{list-style-type:none}ol.lst-kix_8ysb68z6yl1o-7.start{counter-reset:lst-ctn-kix_8ysb68z6yl1o-7 0}ol.lst-kix_aisvtto6q6vp-7{list-style-type:none}.lst-kix_1t89carownqn-7>li:before{content:"" counter(lst-ctn-kix_1t89carownqn-7,lower-latin) ". "}.lst-kix_nxqzz6tm7zah-6>li{counter-increment:lst-ctn-kix_nxqzz6tm7zah-6}ol.lst-kix_aisvtto6q6vp-6{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_aisvtto6q6vp-8{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-0{list-style-type:none}ol.lst-kix_aisvtto6q6vp-3{list-style-type:none}ol.lst-kix_aisvtto6q6vp-2{list-style-type:none}ol.lst-kix_aisvtto6q6vp-5{list-style-type:none}ol.lst-kix_aisvtto6q6vp-4{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-4{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-3{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-2{list-style-type:none}ol.lst-kix_aisvtto6q6vp-1{list-style-type:none}ol.lst-kix_nxqzz6tm7zah-1{list-style-type:none}ol.lst-kix_aisvtto6q6vp-0{list-style-type:none}ol.lst-kix_ert7tarw26lg-3.start{counter-reset:lst-ctn-kix_ert7tarw26lg-3 0}ol{margin:0;padding:0}table td,table th{padding:0}.c38{border-right-style:solid;padding-top:2pt;border-top-width:1pt;border-bottom-color:#000000;border-right-width:1pt;padding-left:2pt;border-left-color:#000000;padding-bottom:2pt;line-height:1.15;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;border-top-color:#000000;border-bottom-style:solid;orphans:2;widows:2;text-align:left;padding-right:2pt}.c10{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c28{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center;height:11pt}.c7{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c39{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c13{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c19{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c33{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c41{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c34{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c31{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c20{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c42{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c16{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c24{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:italic}.c0{background-color:#333333;font-family:"Consolas";color:#d36363;font-weight:400}.c4{background-color:#333333;font-family:"Consolas";color:#ffffff;font-weight:400}.c12{background-color:#333333;font-family:"Consolas";color:#c6b4f0;font-weight:400}.c3{background-color:#333333;font-family:"Consolas";color:#ffffaa;font-weight:400}.c2{background-color:#333333;font-family:"Consolas";color:#fcc28c;font-weight:400}.c15{border-spacing:0;border-collapse:collapse;margin-right:auto}.c5{background-color:#333333;font-family:"Consolas";color:#a2fca2;font-weight:400}.c21{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c8{background-color:#333333;font-family:"Consolas";color:#888888;font-weight:400}.c40{background-color:#333333;font-family:"Consolas";color:#fc9b9b;font-weight:400}.c26{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c36{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c27{color:inherit;text-decoration:inherit}.c14{padding:0;margin:0}.c9{height:0pt}.c43{text-indent:36pt}.c35{height:16pt}.c29{margin-left:72pt}.c30{height:11pt}.c37{font-style:italic}.c18{margin-left:9pt}.c32{font-size:11pt}.c22{padding-left:0pt}.c23{font-size:10pt}.c25{font-weight:700}.c44{height:20pt}.c11{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style><div class="c36"><p class="c28 title" id="h.o1okg5kl2rjx"><span class="c41"></span></p><p class="c28 title" id="h.8rbww1ka2dob"><span class="c41"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c33 title" id="h.62vu5wz3t8wc"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 421.00px; height: 200.00px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/Untitled.png" style="width: 421.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c33 title" id="h.9r7ioqj1eugf"><span class="c41">Solana Blockchain Developer Bootcamp Day 1 Exercises</span></p><p class="c6"><span class="c1"></span></p><hr style="page-break-before:always;display:none;"><h1 class="c34 c44" id="h.qzftt0iof331"><span class="c31"></span></h1><h1 class="c34" id="h.zhifg9exryc2"><span class="c31">Exercise 1: GM Smart Contract</span></h1><p class="c16"><span class="c1">In this exercise we will create, deploy and interact with a solana program that takes your name as an input, and simply outputs a message to the program output. This exercise will teach you about the basics of Solana programs and accounts, as well as serialization/deserialization.</span></p><h2 class="c19" id="h.71ly5o18to13"><span class="c17">Initiating the project</span></h2><ol class="c14 lst-kix_ert7tarw26lg-0 start" start="1"><li class="c16 c22 c11 li-bullet-0"><span class="c1">First step is to create a new project using cargo. Enter the following command into the terminal. It will create the necessary folders and files</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.bb564e4d49323dc6f9f477e7fa2d3094b2de6a17"></a><a id="t.0"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">cargo new gm-program --</span><span class="c2">lib</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c16 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 437.70px; height: 171.15px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0.png" style="width: 437.70px; height: 171.15px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="2"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to initiate a new project in that folder with npm using the following command in the terminal. You can accept all default values</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.e830c541527b2f211691d53c23cc87650d7fdd29"></a><a id="t.1"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">cd</span><span class="c4">&nbsp;gm-</span><span class="c2">program</span><span class="c4"><br>npm init -</span><span class="c3">y</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><h2 class="c39" id="h.bwajgzbnif3y"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 366.71px; height: 399.50px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(1).png" style="width: 366.71px; height: 399.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><hr style="page-break-before:always;display:none;"></h2><ol class="c14 lst-kix_ert7tarw26lg-0" start="3"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next, we need to add all the required dependencies for our program. Replace the contents of your package.json file with the text below:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.684fa5e4932621ab691f57908d06c3ad0c99dd91"></a><a id="t.2"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">{<br> &nbsp;"name": </span><span class="c5">"01-gm-program"</span><span class="c4">,<br> &nbsp;"version": </span><span class="c5">"1.0.0"</span><span class="c4">,<br> &nbsp;"description": </span><span class="c5">""</span><span class="c4">,<br> &nbsp;"main": </span><span class="c5">"index.js"</span><span class="c4">,<br> &nbsp;"scripts": {<br> &nbsp; &nbsp;"start": </span><span class="c5">"ts-node ./client/main.ts"</span><span class="c4">,<br> &nbsp; &nbsp;"start-with-test-validator": </span><span class="c5">"start-server-and-test 'solana-test-validator --reset --quiet' http://localhost:8899/health start"</span><span class="c4">,<br> &nbsp; &nbsp;"clean": </span><span class="c5">"npm run clean:program-c &amp;&amp; npm run clean:program-rust"</span><span class="c4">,<br> &nbsp; &nbsp;"build:program-rust": </span><span class="c5">"cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program"</span><span class="c4">,<br> &nbsp; &nbsp;"clean:program-rust": </span><span class="c5">"cargo clean --manifest-path=./src/program-rust/Cargo.toml &amp;&amp; rm -rf ./dist"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"dependencies": {<br> &nbsp; &nbsp;"@solana/buffer-layout": </span><span class="c5">"^4.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@solana/web3.js": </span><span class="c5">"^1.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"borsh": </span><span class="c5">"^0.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"buffer": </span><span class="c5">"^6.0.3"</span><span class="c4">,<br> &nbsp; &nbsp;"mz": </span><span class="c5">"^2.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"yaml": </span><span class="c5">"^1.10.2"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"devDependencies": {<br> &nbsp; &nbsp;"@tsconfig/recommended": </span><span class="c5">"^1.0.1"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/eslint": </span><span class="c5">"^8.2.2"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/eslint-plugin-prettier": </span><span class="c5">"^3.1.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/mz": </span><span class="c5">"^2.7.2"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/prettier": </span><span class="c5">"^2.1.5"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/yaml": </span><span class="c5">"^1.9.7"</span><span class="c4">,<br> &nbsp; &nbsp;"@typescript-eslint/eslint-plugin": </span><span class="c5">"^4.6.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@typescript-eslint/parser": </span><span class="c5">"^4.6.0"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint": </span><span class="c5">"^7.12.1"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint-config-prettier": </span><span class="c5">"^6.15.0"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint-plugin-prettier": </span><span class="c5">"^4.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"prettier": </span><span class="c5">"^2.1.2"</span><span class="c4">,<br> &nbsp; &nbsp;"start-server-and-test": </span><span class="c5">"^1.11.6"</span><span class="c4">,<br> &nbsp; &nbsp;"ts-node": </span><span class="c5">"^10.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"typescript": </span><span class="c5">"^4.0.5"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"engines": {<br> &nbsp; &nbsp;"node": </span><span class="c5">"&gt;=14.0.0"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"author": </span><span class="c5">""</span><span class="c4">,<br> &nbsp;"license": </span><span class="c5">"ISC"</span><span class="c4"><br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="4"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next, we need to install all the listed dependencies above. Enter the following into the command line:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.a1a03987c3dbc678780b9b956760b1f9d26be8a3"></a><a id="t.3"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">npm install<br>npm install -g ts-</span><span class="c2">node</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="5"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next step is to configure the Cargo.toml file with the correct values. Replace the contents of the file with this:</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.be0305fbc8c56bc4486e2ddd27f6c99e70a54f14"></a><a id="t.4"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c3">[package]</span><span class="c4"><br>name = </span><span class="c5">"gm-program"</span><span class="c4"><br>version = </span><span class="c5">"0.1.0"</span><span class="c4"><br>edition = </span><span class="c5">"2021"</span><span class="c4"><br><br></span><span class="c8"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span><span class="c4"><br></span><span class="c3">[features]</span><span class="c4"><br>no-entrypoint = []<br></span><span class="c3"><br>[dependencies]</span><span class="c4"><br>borsh = </span><span class="c5">"0.9.1"</span><span class="c4"><br>borsh-derive = </span><span class="c5">"0.9.1"</span><span class="c4"><br>solana-program = </span><span class="c5">"=1.7.9"</span><span class="c4"><br></span><span class="c3"><br>[dev-dependencies]</span><span class="c4"><br>solana-program-test = </span><span class="c5">"=1.7.9"</span><span class="c4"><br>solana-sdk = </span><span class="c5">"=1.7.9"</span><span class="c4"><br></span><span class="c3"><br>[lib]</span><span class="c4"><br>name = </span><span class="c5">"gm_program"</span><span class="c4"><br>crate-type = [</span><span class="c5">"cdylib"</span><span class="c4">, </span><span class="c5">"lib"</span><span class="c4">]</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c13"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="6"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now we need to tell the Solana CLI that we want to use a local cluster. </span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.df9c9e9d15c54bc6ef4b5921c9f759f86ea9733b"></a><a id="t.5"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana</span><span class="c3">&nbsp;config set</span><span class="c4">&nbsp;--url localhost</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="7"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now we can create a new CLI Keypair. We will use this for interacting with our local cluster.</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.b9b22ffa04ac81aaf179ebf547a4b13edf3bed92"></a><a id="t.6"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana-keygen </span><span class="c2">new</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="8"><li class="c16 c22 c11 li-bullet-0"><span>Next step is to start our local cluster. Note, you may need to do some </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://docs.solana.com/running-validator/validator-start%23system-tuning&amp;sa=D&amp;source=editors&amp;ust=1655291765533388&amp;usg=AOvVaw2f1NCPJT6ExSs9On90gv0Z">system config</a></span><span class="c1">&nbsp;and possibly restart your machine to get the local cluster working. Type the following command into the terminal. If you still have the solana local validator running from the setup instructions, then you don’t need to run this command</span></li></ol><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><a id="t.8db9c968ec32797c97e1d9c2f90d449d5ff60bd6"></a><a id="t.7"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c3">solana-test-validator</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 178.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(2).png" style="width: 624.00px; height: 178.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">Now that you have a local cluster running, you can open a second terminal in VS code to continue entering CLI commands. You can do this with the ‘+’ button near the top right of the terminal. You’re now ready to start building the on-chain program</span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 126.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(3).png" style="width: 624.00px; height: 126.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c25">If you can’t get the local validator running</span><span class="c1">, then you can just use the public Devnet network. You can configure your setup as follows. Please do not run this command if you are able to successfully start the local validator.</span></p><p class="c6"><span class="c1"></span></p><a id="t.782cddd7109ae69f8b80d284674ac73d045cf28a"></a><a id="t.8"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana config </span><span class="c2">set</span><span class="c4">&nbsp;--url </span><span class="c8">https:</span><span class="c4">//</span><span class="c8">api.devnet.solana.com</span><span class="c4"><br>solana </span><span class="c8">airdrop 2</span><span class="c4">&nbsp;</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c1">You’re now ready to start creating the program</span></p><h2 class="c19" id="h.1sumzl2x3773"><span class="c17">Creating the Program</span></h2><p class="c16"><span class="c1">In this section, we’ll create a new Rust program that takes in a name parameter, and says ‘GM' to that name by outputting text to the program output, and storing the name in a new account which is then read by an off-chain client.</span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="9"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The first step is to open the /src/lib.rs file and enter in the following code. This code</span></li></ol><ol class="c14 lst-kix_ert7tarw26lg-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">Tells the compiler we want to use Borsh for serializing and deserializing data</span></li><li class="c7 li-bullet-0"><span class="c1">Defines the program as a Solana program that takes the standard parameter inputs</span></li><li class="c7 li-bullet-0"><span class="c1">Creates a struct ‘GreetingAccount’ that will define how we read and store data in accounts</span></li><li class="c7 li-bullet-0"><span class="c1">Defines the entrypoint of the program as the process_instruction function</span></li><li class="c7 li-bullet-0"><span class="c1">Defines the skeleton of the process_instruction function</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.8e769b18515c828651bbb65f06076b4e88905012"></a><a id="t.9"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">use</span><span class="c4">&nbsp;borsh::{BorshDeserialize, BorshSerialize};<br></span><span class="c2">use</span><span class="c4">&nbsp;solana_program::{<br> &nbsp; &nbsp;account_info::{next_account_info, AccountInfo},<br> &nbsp; &nbsp;entrypoint,<br> &nbsp; &nbsp;entrypoint::ProgramResult,<br> &nbsp; &nbsp;msg,<br> &nbsp; &nbsp;program_error::ProgramError,<br> &nbsp; &nbsp;pubkey::Pubkey,<br>};<br><br></span><span class="c8">/// Define the type of state stored in accounts</span><span class="c4"><br></span><span class="c40">#[derive(BorshSerialize, BorshDeserialize, Debug)]</span><span class="c4"><br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">struct</span><span class="c4">&nbsp;</span><span class="c3">GreetingAccount</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;name: </span><span class="c3">String</span><span class="c4">,<br>}<br><br></span><span class="c8">// Declare and export the program's entrypoint</span><span class="c4"><br>entrypoint!(process_instruction);<br><br></span><span class="c8">// Program entrypoint's implementation</span><span class="c4"><br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">process_instruction</span><span class="c4">(<br> &nbsp; &nbsp;program_id: &amp;Pubkey, </span><span class="c8">// Public key of the account the GM program was loaded into</span><span class="c4"><br> &nbsp; &nbsp;accounts: &amp;[AccountInfo], </span><span class="c8">// The account to say GM to</span><span class="c4"><br> &nbsp; &nbsp;input: &amp;[</span><span class="c3">u8</span><span class="c4">], </span><span class="c8">// String input data, contains the name to say GM to</span><span class="c4"><br>) -&gt; ProgramResult {<br><br><br> &nbsp; <br> &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(())<br>}</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="10"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The final step is to flesh out the process_instruction function. Complete the function logic as per the text below. Be sure to save your file once it’s modified. This function does the following</span></li></ol><ol class="c14 lst-kix_ert7tarw26lg-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">Grabs the account that we want to store the GM name in</span></li><li class="c7 li-bullet-0"><span class="c1">Ensures the account can be written to </span></li><li class="c7 li-bullet-0"><span class="c1">Deserializes the input data from a byte array into a GreetingAccount struct</span></li><li class="c7 li-bullet-0"><span class="c1">Prints a message to the program output</span></li><li class="c7 li-bullet-0"><span class="c1">Serializes the GreetingAccount struct (turns it back into a byte array), and stores it in the passed in account</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><a id="t.aed35221563b1dd25ae303c1cf9c65d6e5e68840"></a><a id="t.10"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">msg!(</span><span class="c5">"GM program entrypoint"</span><span class="c4">);<br><br> &nbsp; &nbsp;</span><span class="c8">// Iterating accounts is safer than indexing</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;accounts_iter = &amp;</span><span class="c2">mut</span><span class="c4">&nbsp;accounts.iter();<br><br> &nbsp; &nbsp;</span><span class="c8">// Get the account to say GM to</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;account = next_account_info(accounts_iter)?;<br><br> &nbsp; &nbsp;</span><span class="c8">// The account must be owned by the program in order to modify its data</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;account.owner != program_id {<br> &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Greeted account does not have the correct program id"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">Err</span><span class="c4">(ProgramError::IncorrectProgramId);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c8">// Deserialize the input data, and store it in a GreetingAccout struct</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;input_data = GreetingAccount::try_from_slice(&amp;input).unwrap();<br><br> &nbsp; &nbsp;</span><span class="c8">//Say GM in the Program output</span><span class="c4"><br> &nbsp; &nbsp;msg!(</span><span class="c5">"GM {}"</span><span class="c4">, input_data.name);<br><br> &nbsp; &nbsp;</span><span class="c8">//Serialize the name, and store it in the passed in account</span><span class="c4"><br> &nbsp; &nbsp;input_data.serialize(&amp;</span><span class="c2">mut</span><span class="c4">&nbsp;&amp;</span><span class="c2">mut</span><span class="c4">&nbsp;account.try_borrow_mut_data()?[..])?;</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">Nice work! We’re now ready to build and deploy the program to your local Solana cluster</span></p><p class="c20 c30"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><h2 class="c19" id="h.u5crcghkll"><span class="c17">Building and Deploying the Program</span></h2><ol class="c14 lst-kix_ert7tarw26lg-0" start="11"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Use the following command to build the program. You should see a similar output:</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.ea1441f4cd812b4d4f10d5b64894e6d7b49bbbb9"></a><a id="t.11"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">cargo build-bpf </span><span class="c3">--manifest-path</span><span class="c4">=./Cargo.toml </span><span class="c3">--bpf-out-dir</span><span class="c4">=dist/program</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c20"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 204.00px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(4).png" style="width: 624.00px; height: 204.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="12"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now we’re ready to deploy our program to the localnet cluster:</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.c4f255896819bb647617e8c872646f2ab1d2d89f"></a><a id="t.12"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana </span><span class="c2">program</span><span class="c4">&nbsp;deploy dist/</span><span class="c2">program</span><span class="c4">/gm_program.so</span></p></td></tr></tbody></table><h2 class="c19" id="h.tie7qoidysb"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 106.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(5).png" style="width: 624.00px; height: 106.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2><p class="c16"><span class="c1">Congratulations, you just deployed your first Solana program! Now let’s create a client to interact with it. </span></p><h2 class="c19" id="h.6lq4w3wmzxcf"><span class="c17">Creating the Client</span></h2><ol class="c14 lst-kix_ert7tarw26lg-0" start="13"><li class="c16 c22 c11 li-bullet-0"><span class="c1">First, let's create a new folder to store all our client code. Create a new folder in VS code, and call it ‘client’</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 464.50px; height: 405.69px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(6).png" style="width: 464.50px; height: 405.69px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="14"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Inside the client folder, create the following files with the new file icon:</span></li></ol><ol class="c14 lst-kix_ert7tarw26lg-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">gm_program.ts</span></li><li class="c7 li-bullet-0"><span class="c1">main.ts</span></li><li class="c7 li-bullet-0"><span class="c1">utils.ts</span></li></ol><p class="c6 c29"><span class="c1"></span></p><p class="c6 c29"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 364.77px; height: 435.50px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(7).png" style="width: 364.77px; height: 435.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="15"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Enter the following code into main.ts. This will simply act as an entry point into the client, and then call all the functions required in the gm_programs file. Be sure to save your file once it’s modified.</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.965c18f85d795c1caad5337ec82f1a7296dae63a"></a><a id="t.13"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">import {<br> &nbsp; &nbsp;establishConnection,<br> &nbsp; &nbsp;establishPayer,<br> &nbsp; &nbsp;checkProgram,<br> &nbsp; &nbsp;sayGm,<br> &nbsp; &nbsp;reportGm,<br> &nbsp;} from </span><span class="c5">'./gm_program'</span><span class="c4">;<br><br> &nbsp;async </span><span class="c2">function</span><span class="c4">&nbsp;main() {<br> &nbsp; &nbsp;console.log(</span><span class="c5">"Let's say GM anon..."</span><span class="c4">);<br><br> &nbsp; &nbsp;</span><span class="c12">//</span><span class="c4">&nbsp;Establish connection to the cluster<br> &nbsp; &nbsp;await establishConnection();<br><br> &nbsp; &nbsp;</span><span class="c12">//</span><span class="c4">&nbsp;Determine who pays </span><span class="c2">for</span><span class="c4">&nbsp;the fees<br> &nbsp; &nbsp;await establishPayer();<br><br> &nbsp; &nbsp;</span><span class="c12">//</span><span class="c4">&nbsp;Check </span><span class="c2">if</span><span class="c4">&nbsp;the program has been deployed<br> &nbsp; &nbsp;await checkProgram();<br><br> &nbsp; &nbsp;</span><span class="c12">//</span><span class="c4">&nbsp;Say hello to an account<br> &nbsp; &nbsp;await sayGm();<br><br> &nbsp; &nbsp;</span><span class="c12">//</span><span class="c4">&nbsp;Find out how many times that account has been greeted<br> &nbsp; &nbsp;await reportGm();<br><br> &nbsp; &nbsp;console.log(</span><span class="c5">'Success'</span><span class="c4">);<br> &nbsp;}<br><br> &nbsp;main().then(<br> &nbsp; &nbsp;() =&gt; process.</span><span class="c2">exit</span><span class="c4">(),<br> &nbsp; &nbsp;err =&gt; {<br> &nbsp; &nbsp; &nbsp;console.error(err);<br> &nbsp; &nbsp; &nbsp;process.</span><span class="c2">exit</span><span class="c4">(-</span><span class="c0">1</span><span class="c4">);<br> &nbsp; &nbsp;},<br> &nbsp;);</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="16"><li class="c16 c11 c22 li-bullet-0"><span class="c1">Next, enter the following code into utils.ts. These helper functions will be used to get config stored locally, get the RPC URL required to connect to a cluster, as well as generate a new keypair to be used for interacting with the deployed program. Be sure to save your file once it’s modified.</span></li></ol><p class="c6 c11"><span class="c1"></span></p><p class="c16 c11"><span>Note: If you aren’t running a local validator and are deploying to the public Devnet, please replace the ‘</span><span class="c25">http://127</span><span class="c25">.</span><span class="c25">0.0.1:8899</span><span>’ string in the getRpcUrl() function with ‘</span><span class="c25">https://api.devnet.solana.com</span><span>’</span></p><p class="c6"><span class="c1"></span></p><a id="t.d1e4b342dca1cf27b64ab1fae0282c30c9528d42"></a><a id="t.14"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">import</span><span class="c4">&nbsp;os </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'os'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;fs </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'mz/fs'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;path </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'path'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;yaml </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'yaml'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{Keypair} </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'@solana/web3.js'</span><span class="c4">;<br><br></span><span class="c8">/**<br> * @private<br> */</span><span class="c4"><br></span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getConfig</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">any</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c8">// Path to Solana CLI config file</span><span class="c4"><br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;CONFIG_FILE_PATH = path.resolve(<br> &nbsp; &nbsp;os.homedir(),<br> &nbsp; &nbsp;</span><span class="c5">'.config'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'solana'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'cli'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'config.yml'</span><span class="c4">,<br> &nbsp;);<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;configYml = </span><span class="c2">await</span><span class="c4">&nbsp;fs.readFile(CONFIG_FILE_PATH, {encoding: </span><span class="c5">'utf8'</span><span class="c4">});<br> &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;yaml.parse(configYml);<br>}<br><br></span><span class="c8">/**<br> * Load and parse the Solana CLI config file to determine which RPC url to use<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getRpcUrl</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">string</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c5">'http://127.0.0.1:8899'</span><span class="c4">;<br>}<br><br></span><span class="c8">/**<br> * Load and parse the Solana CLI config file to determine which payer to use<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getPayer</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">Keypair</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c2">try</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;config = </span><span class="c2">await</span><span class="c4">&nbsp;getConfig();<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!config.keypair_path) </span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">'Missing keypair path'</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;createKeypairFromFile(config.keypair_path);<br> &nbsp;} </span><span class="c2">catch</span><span class="c4">&nbsp;(err) {<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.warn(<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">'Failed to create keypair from CLI config file, falling back to new random keypair'</span><span class="c4">,<br> &nbsp; &nbsp;);<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;Keypair.generate();<br> &nbsp;}<br>}<br><br></span><span class="c8">/**<br> * Create a Keypair from a secret key stored in file as bytes' array<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createKeypairFromFile</span><span class="c4">(<br> &nbsp;filePath: string,<br>): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">Keypair</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;secretKeyString = </span><span class="c2">await</span><span class="c4">&nbsp;fs.readFile(filePath, {encoding: </span><span class="c5">'utf8'</span><span class="c4">});<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;secretKey = </span><span class="c3">Uint8Array</span><span class="c4">.from(</span><span class="c3">JSON</span><span class="c4">.parse(secretKeyString));<br> &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;Keypair.fromSecretKey(secretKey);<br>}</span></p></td></tr></tbody></table><p class="c16 c11"><span class="c1">&nbsp;</span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="17"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Lastly, enter the following code into your gm_program.ts. Be sure to save your file once it’s modified. This is the main part of the client, and performs the following functionality:</span></li></ol><ol class="c14 lst-kix_ert7tarw26lg-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">Establishes a connection to the cluster</span></li><li class="c7 li-bullet-0"><span class="c1">Establishes which account will be paying for the generated transactions</span></li><li class="c7 li-bullet-0"><span class="c1">Ensures the GM program has been deployed to the cluster</span></li><li class="c7 li-bullet-0"><span class="c1">Generates and sends a transaction to the deployed program to say GM to a specific name, passing in an account to be used to store the result</span></li><li class="c7 li-bullet-0"><span class="c1">Reads the account data that was sent to the GM Program, and extracts the name that was stored in the account</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.27030b2c9e91792c4cdd91d9f9ede086f727d978"></a><a id="t.15"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">import</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;Keypair,<br> &nbsp; &nbsp;Connection,<br> &nbsp; &nbsp;PublicKey,<br> &nbsp; &nbsp;LAMPORTS_PER_SOL,<br> &nbsp; &nbsp;SystemProgram,<br> &nbsp; &nbsp;TransactionInstruction,<br> &nbsp; &nbsp;Transaction,<br> &nbsp; &nbsp;sendAndConfirmTransaction,<br>} </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'@solana/web3.js'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;fs </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'mz/fs'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;path </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'path'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;* </span><span class="c2">as</span><span class="c4">&nbsp;borsh </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'borsh'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{ Buffer } </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'buffer'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{ getPayer, getRpcUrl, createKeypairFromFile } </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'./utils'</span><span class="c4">;<br><br></span><span class="c8">/**<br> * Connection to the network<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;connection: Connection;<br><br></span><span class="c8">/**<br> * Keypair associated to the fees' payer<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;payer: Keypair;<br><br></span><span class="c8">/**<br> * Hello world's program id<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;programId: PublicKey;<br><br></span><span class="c8">/**<br> * The public key of the account we are saying hello to<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;greetedPubkey: PublicKey;<br><br></span><span class="c8">/**<br> * Path to program files<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_PATH = path.resolve(__dirname, </span><span class="c5">'../dist/program'</span><span class="c4">);<br><br></span><span class="c8">/**<br> * Path to program shared object file which should be deployed on chain.<br> * This file is created when running either:<br> * &nbsp; - `npm run build:program-c`<br> * &nbsp; - `npm run build:program-rust`<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_SO_PATH = path.join(PROGRAM_PATH, </span><span class="c5">'gm_program.so'</span><span class="c4">);<br><br></span><span class="c8">/**<br> * Path to the keypair of the deployed program.<br> * This file is created when running `solana program deploy dist/program/gm_program.so`<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_KEYPAIR_PATH = path.join(PROGRAM_PATH, </span><span class="c5">'gm_program-keypair.json'</span><span class="c4">);<br><br></span><span class="c2">const</span><span class="c4">&nbsp;NAME_FOR_GM=</span><span class="c5">'Glass Chewer'</span><span class="c4"><br><br></span><span class="c8">/**<br> * Borsh class and schema definition for greeting accounts<br> */</span><span class="c4"><br><br></span><span class="c2">class</span><span class="c4">&nbsp;</span><span class="c3">GmAccount</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;name = </span><span class="c5">""</span><span class="c4">;<br> &nbsp; &nbsp;</span><span class="c2">constructor</span><span class="c4">(fields: {name: string} | </span><span class="c2">undefined</span><span class="c4">&nbsp;= </span><span class="c2">undefined</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fields) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.name = fields.name;<br> &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">static</span><span class="c4">&nbsp;schema = </span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Map</span><span class="c4">([[GmAccount,<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kind: </span><span class="c5">'struct'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fields: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'name'</span><span class="c4">, </span><span class="c5">'string'</span><span class="c4">]]<br> &nbsp; &nbsp; &nbsp; &nbsp;}]]);<br>}<br><br><br></span><span class="c8">/**<br> * The expected size of each greeting account. Used for creating the buffer<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;GREETING_SIZE = borsh.serialize(<br> &nbsp; &nbsp;GmAccount.schema,<br> &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;GmAccount({ name: NAME_FOR_GM }))<br>.length;<br><br></span><span class="c8">/**<br> * Establish a connection to the cluster<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">establishConnection</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;rpcUrl = </span><span class="c2">await</span><span class="c4">&nbsp;getRpcUrl();<br> &nbsp; &nbsp;connection = </span><span class="c2">new</span><span class="c4">&nbsp;Connection(rpcUrl, </span><span class="c5">'confirmed'</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;version = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getVersion();<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Connection to cluster established:'</span><span class="c4">, rpcUrl, version);<br>}<br><br></span><span class="c8">/**<br> * Establish an account to pay for everything<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">establishPayer</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;fees = </span><span class="c0">0</span><span class="c4">;<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!payer) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;{ feeCalculator } = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getRecentBlockhash();<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// Calculate the cost to fund the greeter account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;fees += </span><span class="c2">await</span><span class="c4">&nbsp;connection.getMinimumBalanceForRentExemption(GREETING_SIZE);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// Calculate the cost of sending transactions</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;fees += feeCalculator.lamportsPerSignature * </span><span class="c0">100</span><span class="c4">; </span><span class="c8">// wag</span><span class="c4"><br><br> &nbsp; &nbsp; &nbsp; &nbsp;payer = </span><span class="c2">await</span><span class="c4">&nbsp;getPayer();<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getBalance(payer.publicKey);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(lamports &lt; fees) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// If current balance is not enough to pay for fees, request an airdrop</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;sig = </span><span class="c2">await</span><span class="c4">&nbsp;connection.requestAirdrop(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fees - lamports,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;connection.confirmTransaction(sig);<br> &nbsp; &nbsp; &nbsp; &nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getBalance(payer.publicKey);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Using account'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey.toBase58(),<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'containing'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;lamports / LAMPORTS_PER_SOL,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'SOL to pay for fees'</span><span class="c4">,<br> &nbsp; &nbsp;);<br>}<br><br></span><span class="c8">/**<br> * Check if the hello world BPF program has been deployed<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">checkProgram</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c8">// Read program id from keypair file</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">try</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;programKeypair = </span><span class="c2">await</span><span class="c4">&nbsp;createKeypairFromFile(PROGRAM_KEYPAIR_PATH);<br> &nbsp; &nbsp; &nbsp; &nbsp;programId = programKeypair.publicKey;<br> &nbsp; &nbsp;} </span><span class="c2">catch</span><span class="c4">&nbsp;(err) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;errMsg = (err </span><span class="c2">as</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">).message;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">`Failed to read program keypair at '${PROGRAM_KEYPAIR_PATH}' due to error: ${errMsg}. Program may need to be deployed with \`solana program deploy dist/program/gm_program.so\``</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c8">// Check if the program has been deployed</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;programInfo = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(programId);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(programInfo === </span><span class="c2">null</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fs.existsSync(PROGRAM_SO_PATH)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Program needs to be deployed with `solana program deploy dist/program/gm_program.so`'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">'Program needs to be built and deployed'</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!programInfo.executable) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">`Program is not executable`</span><span class="c4">);<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">`Using program ${programId.toBase58()}`</span><span class="c4">);<br><br> &nbsp; &nbsp;</span><span class="c8">// Derive the address (public key) of a greeting account from the program so that it's easy to find later.</span><span class="c4"><br> &nbsp; &nbsp;greetedPubkey = </span><span class="c2">await</span><span class="c4">&nbsp;PublicKey.createWithSeed(<br> &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp;NAME_FOR_GM,<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp;);<br><br> &nbsp; &nbsp;</span><span class="c8">// Check if the greeting account has already been created</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;greetedAccount = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(greetedPubkey);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(greetedAccount === </span><span class="c2">null</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Creating account'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;greetedPubkey.toBase58(),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'to say hello to'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getMinimumBalanceForRentExemption(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;GREETING_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;transaction = </span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SystemProgram.createAccountWithSeed({<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fromPubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;basePubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;seed: NAME_FOR_GM,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;newAccountPubkey: greetedPubkey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lamports,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space: GREETING_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}),<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(connection, transaction, [payer]);<br> &nbsp; &nbsp;}<br>}<br><br></span><span class="c8">/**<br> * Say GM<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">sayGm</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Saying hello to '</span><span class="c4">,NAME_FOR_GM, </span><span class="c5">' with key '</span><span class="c4">, greetedPubkey.toBase58());<br><br> &nbsp; &nbsp;</span><span class="c8">//first we serialize the name data</span><span class="c4"><br><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;gm = </span><span class="c2">new</span><span class="c4">&nbsp;GmAccount({<br> &nbsp; &nbsp; &nbsp; &nbsp;name: NAME_FOR_GM<br> &nbsp; &nbsp;})<br><br><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;data = borsh.serialize(GmAccount.schema, gm);<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;data_to_send = Buffer.from(data);<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(data_to_send)<br><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;instruction = </span><span class="c2">new</span><span class="c4">&nbsp;TransactionInstruction({<br> &nbsp; &nbsp; &nbsp; &nbsp;keys: [{ pubkey: greetedPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;}],<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp;data: data_to_send<br> &nbsp; &nbsp;});<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(instruction),<br> &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp;);<br>}<br><br></span><span class="c8">/**<br> * Report the name of the account that we said GM to<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">reportGm</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;accountInfo = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(greetedPubkey);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(accountInfo === </span><span class="c2">null</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c5">'Error: cannot find the greeted account'</span><span class="c4">;<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;greeting = borsh.deserialize(<br> &nbsp; &nbsp; &nbsp; &nbsp;GmAccount.schema,<br> &nbsp; &nbsp; &nbsp; &nbsp;GmAccount,<br> &nbsp; &nbsp; &nbsp; &nbsp;accountInfo.data,<br> &nbsp; &nbsp;);<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(<br> &nbsp; &nbsp; &nbsp; &nbsp;greetedPubkey.toBase58(),<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'GM was said to '</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;greeting.name<br> &nbsp; &nbsp;);<br>}</span></p></td></tr></tbody></table><h2 class="c19 c35" id="h.ys8qeqdxw5cj"><span class="c17"></span></h2><h2 class="c19" id="h.46c61ul98uhe"><span class="c17">Running the Client</span></h2><ol class="c14 lst-kix_ert7tarw26lg-0" start="18"><li class="c16 c22 c11 li-bullet-0"><span>To run the client, first you can optionally set the value of the </span><span class="c25">NAME_FOR_GM</span><span>&nbsp;constant in the </span><span class="c37">gm_program.ts</span><span class="c1">&nbsp;file to be whatever name you wish. It’s currently set to ‘Glass Chewer’. Be sure to save your file once it’s modified.</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.a67a396034e4acd1ca93a345022a2b92afcd47a8"></a><a id="t.16"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">const</span><span class="c4">&nbsp;NAME_FOR_GM=</span><span class="c5">'Glass Chewer'</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="19"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Finally, you can now run your client. You should see output similar to the screenshot below</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.f0ef7e93a0b1bd2795d879a3a702aeb0592b2bc3"></a><a id="t.17"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">npm </span><span class="c2">run</span><span class="c4">&nbsp;start</span></p></td></tr></tbody></table><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 196.00px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(8).png" style="width: 624.00px; height: 196.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c18"><span class="c1"></span></p><p class="c16"><span class="c1">Congratulations, you’ve successfully written your first solana program, as well as deployed it to a local Solana cluster and interacted with it with an off-chain client!<br></span></p><p class="c16"><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://github.com/pappas999/gm-program&amp;sa=D&amp;source=editors&amp;ust=1655291765563193&amp;usg=AOvVaw2yXC-9OMSvPKYlNUzxxtJ0">Completed code repository</a></span></p><h2 class="c19 c18" id="h.lvw567m2trs4"><span class="c17">Bonus Exercise: </span></h2><p class="c16 c18"><span class="c1">You can attempt to complete these exercises if you’ve completed the main exercise ahead of schedule:</span></p><p class="c6 c18"><span class="c1"></span></p><ol class="c14 lst-kix_ert7tarw26lg-0" start="20"><li class="c16 c22 c11 li-bullet-0"><span>Modify your program and client so that it also stores a number that counts how many times the account has had GM said to it. To do this, you should initially set the state of the </span><span class="c37">number</span><span>&nbsp;variable to be 0, then increment it each time, storing it in the account. Feel free to reference the Solana Labs</span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://github.com/solana-labs/example-helloworld&amp;sa=D&amp;source=editors&amp;ust=1655291765564099&amp;usg=AOvVaw1pHVTGw6aLLF5rcj-tXuO-">&nbsp;hello-world demo</a></span><span class="c1">.</span></li></ol><p class="c20 c30"><span class="c1"></span></p><h1 class="c34" id="h.mkqsybkonskf"><span class="c31">Exercise 2: Token Contract</span></h1><p class="c16"><span class="c1">In this exercise we will create, deploy and interact with a token program. The token program will create a token, create token accounts for that token, then have a mint and transfer functions for the created token. This exercise will teach you about the basics of Solana programs and accounts, as well as serialization/deserialization.</span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><h2 class="c19" id="h.a6l71rwadm6v"><span class="c17">Initiating the project</span></h2><ol class="c14 lst-kix_nxqzz6tm7zah-0 start" start="1"><li class="c16 c22 c11 li-bullet-0"><span>First step is to create a new project using cargo. Enter the following command into the terminal in the folder containing all your projecst. &nbsp;</span><span class="c1">It will create the necessary folders and files for the token program</span></li></ol><p class="c6 c11"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c24 c32">Optional: If you are still in the ‘gm-program’ folder, you will need to go back to a folder.</span></p><p class="c6 c11"><span class="c24 c32"></span></p><a id="t.6261925483924879abfc0baf12ffbf6f989912c7"></a><a id="t.18"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c3">cd</span><span class="c4">&nbsp;.. </span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><a id="t.77029050dc1d46fbb710f242cc470d88da8e85b4"></a><a id="t.19"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">cargo new token-program --</span><span class="c2">lib</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c16 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 439.50px; height: 174.68px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(9).png" style="width: 439.50px; height: 174.68px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="2"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to initiate a new project in that folder with npm using the following command in the terminal. You can accept all default values</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.c59400283fe5050166219600eb8707f896c8b9be"></a><a id="t.20"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">cd</span><span class="c4">&nbsp;</span><span class="c2">token</span><span class="c4">-</span><span class="c2">program</span><span class="c4"><br>npm init -</span><span class="c3">y</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><h2 class="c39" id="h.is6uhwssv5ht"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 500.50px; height: 456.39px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(10).png" style="width: 500.50px; height: 456.39px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><hr style="page-break-before:always;display:none;"></h2><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="3"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next, we need to add all the required dependencies for our program. Replace the contents of your package.json file with the text below</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.a3ca567d37ceb8c18a967ee877c2647ba462e16d"></a><a id="t.21"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">{<br> &nbsp;"name": </span><span class="c5">"01-token-program"</span><span class="c4">,<br> &nbsp;"version": </span><span class="c5">"1.0.0"</span><span class="c4">,<br> &nbsp;"description": </span><span class="c5">""</span><span class="c4">,<br> &nbsp;"main": </span><span class="c5">"index.js"</span><span class="c4">,<br> &nbsp;"scripts": {<br> &nbsp; &nbsp;"start": </span><span class="c5">"ts-node ./client/main.ts"</span><span class="c4">,<br> &nbsp; &nbsp;"start-with-test-validator": </span><span class="c5">"start-server-and-test 'solana-test-validator --reset --quiet' http://localhost:8899/health start"</span><span class="c4">,<br> &nbsp; &nbsp;"clean": </span><span class="c5">"npm run clean:program-c &amp;&amp; npm run clean:program-rust"</span><span class="c4">,<br> &nbsp; &nbsp;"build:program-rust": </span><span class="c5">"cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program"</span><span class="c4">,<br> &nbsp; &nbsp;"clean:program-rust": </span><span class="c5">"cargo clean --manifest-path=./src/program-rust/Cargo.toml &amp;&amp; rm -rf ./dist"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"dependencies": {<br> &nbsp; &nbsp;"@solana/buffer-layout": </span><span class="c5">"^4.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@solana/web3.js": </span><span class="c5">"^1.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"borsh": </span><span class="c5">"^0.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"buffer": </span><span class="c5">"^6.0.3"</span><span class="c4">,<br> &nbsp; &nbsp;"mz": </span><span class="c5">"^2.7.0"</span><span class="c4">,<br> &nbsp; &nbsp;"yaml": </span><span class="c5">"^1.10.2"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"devDependencies": {<br> &nbsp; &nbsp;"@tsconfig/recommended": </span><span class="c5">"^1.0.1"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/eslint": </span><span class="c5">"^8.2.2"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/eslint-plugin-prettier": </span><span class="c5">"^3.1.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/mz": </span><span class="c5">"^2.7.2"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/prettier": </span><span class="c5">"^2.1.5"</span><span class="c4">,<br> &nbsp; &nbsp;"@types/yaml": </span><span class="c5">"^1.9.7"</span><span class="c4">,<br> &nbsp; &nbsp;"@typescript-eslint/eslint-plugin": </span><span class="c5">"^4.6.0"</span><span class="c4">,<br> &nbsp; &nbsp;"@typescript-eslint/parser": </span><span class="c5">"^4.6.0"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint": </span><span class="c5">"^7.12.1"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint-config-prettier": </span><span class="c5">"^6.15.0"</span><span class="c4">,<br> &nbsp; &nbsp;"eslint-plugin-prettier": </span><span class="c5">"^4.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"prettier": </span><span class="c5">"^2.1.2"</span><span class="c4">,<br> &nbsp; &nbsp;"start-server-and-test": </span><span class="c5">"^1.11.6"</span><span class="c4">,<br> &nbsp; &nbsp;"ts-node": </span><span class="c5">"^10.0.0"</span><span class="c4">,<br> &nbsp; &nbsp;"typescript": </span><span class="c5">"^4.0.5"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"engines": {<br> &nbsp; &nbsp;"node": </span><span class="c5">"&gt;=14.0.0"</span><span class="c4"><br> &nbsp;},<br> &nbsp;"author": </span><span class="c5">""</span><span class="c4">,<br> &nbsp;"license": </span><span class="c5">"ISC"</span><span class="c4"><br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="4"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next, we need to install all the listed dependencies above. Enter the following into the command line:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.b4dc6233637493b6bc2f11b158283d5e0ac5a745"></a><a id="t.22"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">npm </span><span class="c2">install</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="5"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next step is to configure the Cargo.toml file with the correct values. Replace the contents of the file with this:</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.01a21360ac00bcaad0604c38a3b6b179b26ef50f"></a><a id="t.23"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c3">[package]</span><span class="c4"><br>name = </span><span class="c5">"token-program"</span><span class="c4"><br>version = </span><span class="c5">"0.1.0"</span><span class="c4"><br>edition = </span><span class="c5">"2021"</span><span class="c4"><br><br></span><span class="c8"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span><span class="c4"><br></span><span class="c3">[features]</span><span class="c4"><br>no-entrypoint = []<br></span><span class="c3"><br>[dependencies]</span><span class="c4"><br>borsh = </span><span class="c5">"0.9.1"</span><span class="c4"><br>borsh-derive = </span><span class="c5">"0.9.1"</span><span class="c4"><br>solana-program = </span><span class="c5">"=1.7.9"</span><span class="c4"><br>thiserror = </span><span class="c5">"1.0"</span><span class="c4"><br></span><span class="c3"><br>[dev-dependencies]</span><span class="c4"><br>solana-program-test = </span><span class="c5">"=1.7.9"</span><span class="c4"><br>solana-sdk = </span><span class="c5">"=1.7.9"</span><span class="c4"><br></span><span class="c3"><br>[lib]</span><span class="c4"><br>name = </span><span class="c5">"token_program"</span><span class="c4"><br>crate-type = [</span><span class="c5">"cdylib"</span><span class="c4">, </span><span class="c5">"lib"</span><span class="c4">]</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="6"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now we need to tell the Solana CLI that we want to use a local cluster. </span></li></ol><a id="t.df9c9e9d15c54bc6ef4b5921c9f759f86ea9733b"></a><a id="t.24"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana</span><span class="c3">&nbsp;config set</span><span class="c4">&nbsp;--url localhost</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="7"><li class="c16 c22 c11 li-bullet-0"><span>Now we can create a new CLI Keypair. We will use this for interacting with our local cluster. &nbsp;</span><span class="c25">Note</span><span class="c1">&nbsp;If you get an error stating ‘Refusing to overwrite without –force flag’, you can skip this step, as you’re simply using the key created from the previous exercise.</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.b9b22ffa04ac81aaf179ebf547a4b13edf3bed92"></a><a id="t.25"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana-keygen </span><span class="c2">new</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="8"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Because we want to run a local cluster in our existing VS Code terminal, you can open up a new terminal using the ‘+’ button near the bottom right of VS Code, then use a second terminal for starting the valiator, leaving your first terminal for entering commands::</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 165.33px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(11).png" style="width: 624.00px; height: 165.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="9"><li class="c16 c22 c11 li-bullet-0"><span>Next step is to start our local cluster. </span><span class="c25">This step can be skipped if you still have your local validator running from the previous exercise</span><span>. Note, you may need to do some </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://docs.solana.com/running-validator/validator-start%23system-tuning&amp;sa=D&amp;source=editors&amp;ust=1655291765572512&amp;usg=AOvVaw3_xl7v8_2zebEwHAT8ibWK">system config</a></span><span class="c1">&nbsp;and possibly restart your machine to get the local cluster working. Type the following command into the terminal:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.8db9c968ec32797c97e1d9c2f90d449d5ff60bd6"></a><a id="t.26"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c3">solana-test-validator</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 178.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(2).png" style="width: 624.00px; height: 178.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c25">If you can’t get the local validator running</span><span class="c1">, then you can just use the public Devnet network. You can configure your setup as follows. Please do not run this command if you are able to successfully start the local validator.</span></p><p class="c6"><span class="c1"></span></p><a id="t.782cddd7109ae69f8b80d284674ac73d045cf28a"></a><a id="t.27"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana config </span><span class="c2">set</span><span class="c4">&nbsp;--url </span><span class="c8">https:</span><span class="c4">//</span><span class="c8">api.devnet.solana.com</span><span class="c4"><br>solana </span><span class="c8">airdrop 2</span><span class="c4">&nbsp;</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c1">You’re now ready to start creating the program</span></p><p class="c6 c43"><span class="c1"></span></p><h2 class="c19" id="h.244grb2wsant"><span class="c17">Creating the Program</span></h2><p class="c16"><span>In this section, we’ll create a new Rust program that acts as a simplified version for the </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://spl.solana.com/token&amp;sa=D&amp;source=editors&amp;ust=1655291765574520&amp;usg=AOvVaw1xpXBAcGBfoHtoLHCEOH7U">SPL Token Program</a></span><span>. The SPL Token Program is a built-in Solana program that defines the standard for tokens on Solana.</span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="10"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The first step is to create the other required rust files in the ‘src’ folder. Using the new file icon, create the following files in the ‘src’ folder:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">entrypoint.rs</span></li><li class="c7 li-bullet-0"><span class="c1">instruction.rs</span></li><li class="c7 li-bullet-0"><span class="c1">processor.rs</span></li><li class="c7 li-bullet-0"><span class="c1">state.rs</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c1">The end result should be a folder and file structure like the image below:</span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 319.50px; height: 262.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(12).png" style="width: 319.50px; height: 262.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="11"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to create the contents of the lib.rs file. This code will simply define all the modules required for the program. Each module is contained in it’s own separate file:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.ff013fe720af3b8ab197ea5ac469891c9e744936"></a><a id="t.28"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">mod</span><span class="c4">&nbsp;entrypoint;<br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">mod</span><span class="c4">&nbsp;instruction;<br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">mod</span><span class="c4">&nbsp;processor;<br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">mod</span><span class="c4">&nbsp;state;</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c1">&nbsp;</span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="12"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to populate the contents of the entrypoint.rs file. The code here performs the following:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">Defines the program as a Solana program</span></li><li class="c7 li-bullet-0"><span class="c1">Defines the entrypoint for the program as the ‘process_instruction’ function</span></li><li class="c7 li-bullet-0"><span class="c1">Creates the process_instrunction function, which simply calls the process_instruction instruction from the Processor implementation, passing in all the input parameters received</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><a id="t.7f75edf761d7f963db3441db3eea00768e2bcc14"></a><a id="t.29"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">use</span><span class="c4">&nbsp;crate::processor::Processor;<br><br></span><span class="c2">use</span><span class="c4">&nbsp;solana_program::{<br> &nbsp; &nbsp;account_info::{AccountInfo},<br> &nbsp; &nbsp;entrypoint,<br> &nbsp; &nbsp;entrypoint::ProgramResult,<br> &nbsp; &nbsp;msg,<br> &nbsp; &nbsp;pubkey::Pubkey,<br>};<br><br></span><span class="c8">// Declare and export the program's entrypoint</span><span class="c4"><br>entrypoint!(process_instruction);<br><br><br></span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">process_instruction</span><span class="c4">(<br> &nbsp; &nbsp;program_id: &amp;Pubkey,<br> &nbsp; &nbsp;accounts: &amp;[AccountInfo],<br> &nbsp; &nbsp;instruction_data: &amp;[</span><span class="c3">u8</span><span class="c4">],<br>) -&gt; ProgramResult {<br> &nbsp; &nbsp;msg!(<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">"process_instruction: {}: {} accounts, data={:?}"</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;program_id,<br> &nbsp; &nbsp; &nbsp; &nbsp;accounts.len(),<br> &nbsp; &nbsp; &nbsp; &nbsp;instruction_data<br> &nbsp; &nbsp;);<br><br> &nbsp; &nbsp;Processor::process_instruction(program_id, accounts, instruction_data)<br>}</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="13"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to populate the contents of the instruction.rs file. The code here defines an enum that defines all the possible instructions that can be sent to the program:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">0 - Create a new token</span></li><li class="c7 li-bullet-0"><span class="c1">1 - Create a new token account</span></li><li class="c7 li-bullet-0"><span class="c1">2 - Mint some tokens to a token account</span></li><li class="c7 li-bullet-0"><span class="c1">3 - Transfer tokens between token accounts</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">Take note that the Mint and Transfer values can contain an additional piece of data called ‘amount’ </span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><a id="t.a1c55aa8977dd9bfb3c9e507aa3c9fc0d86b9d99"></a><a id="t.30"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">use </span><span class="c0">borsh:</span><span class="c4">:{BorshDeserialize, BorshSerialize};<br><br></span><span class="c8">#[derive(BorshSerialize, BorshDeserialize, Debug, Clone)]</span><span class="c4"><br>pub </span><span class="c2">enum</span><span class="c4">&nbsp;</span><span class="c3">TokenInstruction</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;CreateToken,<br> &nbsp; &nbsp;CreateTokenAccount,<br> &nbsp; &nbsp;Mint { </span><span class="c0">amount:</span><span class="c4">&nbsp;u64 },<br> &nbsp; &nbsp;Transfer { </span><span class="c0">amount:</span><span class="c4">&nbsp;u64 },<br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="14"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to populate the contents of the state.rs file. The code here defines the data that will be stored for the program, which is split across two structs, a header level ‘Token’ struct that defines header level information about the token, as well as a ‘TokenAccount’ struct, that defines information about an account for the specified token. In addition to this, there are some helper functions included for each struct to help the program retrieve and save data</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.a5c3f89abaae95c1363eedf21a0976304364def0"></a><a id="t.31"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">use</span><span class="c4">&nbsp;borsh::{BorshDeserialize, BorshSerialize};<br></span><span class="c2">use</span><span class="c4">&nbsp;solana_program::{<br> &nbsp; &nbsp;account_info::AccountInfo, entrypoint::ProgramResult, program_error::ProgramError,<br> &nbsp; &nbsp;pubkey::Pubkey,<br>};<br><br></span><span class="c40">#[derive(BorshSerialize, BorshDeserialize, Debug, Clone)]</span><span class="c4"><br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">struct</span><span class="c4">&nbsp;</span><span class="c3">Token</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;authority: Pubkey,<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;supply: </span><span class="c3">u64</span><span class="c4">,<br>}<br><br></span><span class="c2">impl</span><span class="c4">&nbsp;Token {<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">load_unchecked</span><span class="c4">(ai: &amp;AccountInfo) -&gt; </span><span class="c3">Result</span><span class="c4">&lt;</span><span class="c2">Self</span><span class="c4">, ProgramError&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(Self::try_from_slice(&amp;ai.data.borrow())?)<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">save</span><span class="c4">(&amp;</span><span class="c2">self</span><span class="c4">, ai: &amp;AccountInfo) -&gt; ProgramResult {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(</span><span class="c2">self</span><span class="c4">.serialize(&amp;</span><span class="c2">mut</span><span class="c4">&nbsp;*ai.data.borrow_mut())?)<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">load</span><span class="c4">(ai: &amp;AccountInfo) -&gt; </span><span class="c3">Result</span><span class="c4">&lt;</span><span class="c2">Self</span><span class="c4">, ProgramError&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;token = Self::try_from_slice(&amp;ai.data.borrow())?;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(token)<br> &nbsp; &nbsp;}<br>}<br><br></span><span class="c40">#[derive(BorshSerialize, BorshDeserialize, Debug, Clone)]</span><span class="c4"><br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">struct</span><span class="c4">&nbsp;</span><span class="c3">TokenAccount</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;owner: Pubkey,<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;token: Pubkey,<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;amount: </span><span class="c3">u64</span><span class="c4">,<br>}<br><br></span><span class="c2">impl</span><span class="c4">&nbsp;TokenAccount {<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">load_unchecked</span><span class="c4">(ai: &amp;AccountInfo) -&gt; </span><span class="c3">Result</span><span class="c4">&lt;</span><span class="c2">Self</span><span class="c4">, ProgramError&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(Self::try_from_slice(&amp;ai.data.borrow())?)<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">save</span><span class="c4">(&amp;</span><span class="c2">self</span><span class="c4">, ai: &amp;AccountInfo) -&gt; ProgramResult {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(</span><span class="c2">self</span><span class="c4">.serialize(&amp;</span><span class="c2">mut</span><span class="c4">&nbsp;*ai.data.borrow_mut())?)<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">load</span><span class="c4">(ai: &amp;AccountInfo) -&gt; </span><span class="c3">Result</span><span class="c4">&lt;</span><span class="c2">Self</span><span class="c4">, ProgramError&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;account = Self::try_from_slice(&amp;ai.data.borrow())?;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(account)<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="15"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The final step is to populate the contents of the processor.rs file. The top section defines it as a Solana program, and tells the compiler we want to use the Borsh libraries, as well as the instruction and state modules that we created earlier. In addition to this, it defines a process_instruction function, which takes in the standard Solana Rust parameters, it retrieves the passed in instruction via the instruction_data parameter, then depending on what value it has (0,1,2,3), it calls different logic to perform the specified function. We’ll fill in details for each instruction next</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.a076c86d243ac5c916b3772ba8dbb5101d2b5d08"></a><a id="t.32"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">use</span><span class="c4">&nbsp;borsh::{BorshDeserialize};<br></span><span class="c2">use</span><span class="c4">&nbsp;solana_program::{<br> &nbsp; &nbsp;account_info::{next_account_info, AccountInfo},<br> &nbsp; &nbsp;entrypoint::ProgramResult,<br> &nbsp; &nbsp;msg,<br> &nbsp; &nbsp;program_error::ProgramError,<br> &nbsp; &nbsp;pubkey::Pubkey,<br>};<br><br></span><span class="c2">use</span><span class="c4">&nbsp;crate::instruction::TokenInstruction;<br></span><span class="c2">use</span><span class="c4">&nbsp;crate::state::{Token, TokenAccount};<br><br></span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">struct</span><span class="c4">&nbsp;</span><span class="c3">Processor</span><span class="c4">&nbsp;{}<br><br></span><span class="c2">impl</span><span class="c4">&nbsp;Processor {<br> &nbsp; &nbsp;</span><span class="c2">pub</span><span class="c4">&nbsp;</span><span class="c2">fn</span><span class="c4">&nbsp;</span><span class="c3">process_instruction</span><span class="c4">(<br> &nbsp; &nbsp; &nbsp; &nbsp;_program_id: &amp;Pubkey,<br> &nbsp; &nbsp; &nbsp; &nbsp;accounts: &amp;[AccountInfo],<br> &nbsp; &nbsp; &nbsp; &nbsp;instruction_data: &amp;[</span><span class="c3">u8</span><span class="c4">],<br> &nbsp; &nbsp;) -&gt; ProgramResult {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;instruction = TokenInstruction::try_from_slice(instruction_data)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.map_err(|_| ProgramError::InvalidInstructionData)?;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;accounts_iter = &amp;</span><span class="c2">mut</span><span class="c4">&nbsp;accounts.iter();<br> &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Instruction: {:?}"</span><span class="c4">,instruction);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">match</span><span class="c4">&nbsp;instruction {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TokenInstruction::CreateToken =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Instruction: Create Token"</span><span class="c4">);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TokenInstruction::CreateTokenAccount =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Instruction: Create Token Account"</span><span class="c4">);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TokenInstruction::Mint { amount } =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Instruction: Mint"</span><span class="c4">);<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TokenInstruction::Transfer { amount } =&gt; {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Instruction: Transfer"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">Ok</span><span class="c4">(())<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c13"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="16"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now that we’ve defined the main body of our function, let's complete the logic for each branch of the match statement. The first is ‘CreateToken’, in this section we simply read in from the accounts array a new account to create a token for, as well as a ‘token authority’ account that acts as an owner of the token, and has authority to do things like mint new tokens etc. &nbsp;Then we simply set some default values for the token such as the supply, set the authority/owner to the passed in token authority account, then we save the token data into the passed in token master account.</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.d6a6eea3c5d13c564868c608d64151d9064534d8"></a><a id="t.33"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8">//get account info for master token account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;token_master_account = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;token_authority = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;mut </span><span class="c3">token</span><span class="c4">&nbsp;= </span><span class="c3">Token</span><span class="c4">::load_unchecked(token_master_account)?;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//set default values and save master token account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">token</span><span class="c4">.authority = *token_authority.</span><span class="c3">key</span><span class="c4">;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">token</span><span class="c4">.supply = </span><span class="c0">0</span><span class="c4">;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">token</span><span class="c4">.</span><span class="c2">save</span><span class="c4">(token_master_account)?</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c13"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="17"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next step is to fill out the logic for the ‘CreateTokenAccount’ section. The code takes in three accounts from the accounts array:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">New account to create a token account for</span></li><li class="c7 li-bullet-0"><span class="c1">The master token account that we want to create a token account under</span></li><li class="c7 li-bullet-0"><span class="c1">The owner of the new token account that we’re creating</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">The program then sets the relevant owner and master token values, as well as sets the initial balance to 0, then saves the data in the passed in new token account</span></p><p class="c6 c11"><span class="c1"></span></p><a id="t.571886d8b858aef5dc60f9f2ab0a9b4d47537350"></a><a id="t.34"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //</span><span class="c3">get</span><span class="c4">&nbsp;account info </span><span class="c2">for</span><span class="c4">&nbsp;master token account </span><span class="c2">and</span><span class="c4">&nbsp;token account to be created<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">let</span><span class="c4">&nbsp;token_account_acct = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">let</span><span class="c4">&nbsp;token_master_account = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">let</span><span class="c4">&nbsp;owner = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">let</span><span class="c4">&nbsp;mut token_account = TokenAccount::load_unchecked(token_account_acct)?;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//set default </span><span class="c3">values</span><span class="c4">&nbsp;</span><span class="c2">and</span><span class="c4">&nbsp;</span><span class="c3">save</span><span class="c4">&nbsp;token account<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;token_account.owner = *owner.</span><span class="c3">key</span><span class="c4">;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;token_account.token = *token_master_account.</span><span class="c3">key</span><span class="c4">;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;token_account.amount = </span><span class="c0">0</span><span class="c4">;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;token_account.</span><span class="c3">save</span><span class="c4">(token_account_acct)?</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="18"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The next section to fill in is the Mint branch. In this part, the program looks for three accounts in the accounts array:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">The token account that wants to receive the minted tokens</span></li><li class="c7 li-bullet-0"><span class="c1">The master token account of the tokens that we want to mint</span></li><li class="c7 li-bullet-0"><span class="c1">The token authority account, that has access to mint new tokens</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">The logic then does some basic validation to ensure that the passed in token authority account is the one that signed the transaction, otherwise it returns an error. After this check passes, it simply increases the total supply in the master token account, and then increases the balance of the token in the specified token account by the passed in value, and saves the state of the accounts</span></p><p class="c6 c29"><span class="c1"></span></p><a id="t.b471c5f645ef9a4bb0fb20bb7ad5f5aecadd938d"></a><a id="t.35"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//get account info for master token account and token account to mint to</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">let</span><span class="c4">&nbsp;token_account_acct = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">let</span><span class="c4">&nbsp;token_master_account = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">let</span><span class="c4">&nbsp;mut token_account = TokenAccount::</span><span class="c2">load</span><span class="c4">(token_account_acct)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">let</span><span class="c4">&nbsp;mut </span><span class="c3">token</span><span class="c4">&nbsp;= </span><span class="c3">Token</span><span class="c4">::</span><span class="c2">load</span><span class="c4">(token_master_account)?;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8">//basic validation, ensure its the master token authority trying to mint</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">let</span><span class="c4">&nbsp;token_authority = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">if</span><span class="c4">&nbsp;!token_authority.is_signer {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msg!(</span><span class="c5">"Only the token owner can mint tokens"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c2">return</span><span class="c4">&nbsp;Err(ProgramError::MissingRequiredSignature);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8">//update total supply of the master token, and update balance of token account that received the mint</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">token</span><span class="c4">.supply += amount;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; token_account.amount += amount;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8">//save updated contents of both accounts</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; token_account.</span><span class="c2">save</span><span class="c4">(token_account_acct)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">token</span><span class="c4">.</span><span class="c2">save</span><span class="c4">(token_master_account)?;</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="19"><li class="c16 c22 c11 li-bullet-0"><span class="c1">The final part of the logic that needs completing is the Transfer section. In this part of the program it looks for three accounts in the accounts array:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">The token account that is sending funds</span></li><li class="c7 li-bullet-0"><span class="c1">The token account receiving funds</span></li><li class="c7 li-bullet-0"><span class="c1">The owner of the token account sending funds</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">The logic then performs some basic validation on the passed in accounts, ensuring the sender has enough funds, and that they are the one that signed the transaction. Once these checks pass, it simply updates the balances in the sender and receiver token accounts, and saves the new state</span></p><p class="c6 c29"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><p class="c11 c38"><span class="c13">&nbsp; &nbsp; &nbsp; </span></p><a id="t.e4faa6725c00a842e35b6881a4eff333de1f0bef"></a><a id="t.36"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8">//get account info for from and to token accounts, as well as master token account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;from_token_acct = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;to_token_acct = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;owner = next_account_info(accounts_iter)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;</span><span class="c2">mut</span><span class="c4">&nbsp;src_token_account = TokenAccount::load(from_token_acct)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;</span><span class="c2">mut</span><span class="c4">&nbsp;dst_token_account = TokenAccount::load(to_token_acct)?;<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//basic validation, ensure sender has enough funds</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;src_token_account.amount &lt;= amount {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Not enough tokens to transfer"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">Err</span><span class="c4">(ProgramError::InsufficientFunds);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//ensure the owner of the from account is the one signing the transaction</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;!owner.is_signer {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Not the token owner signing the transaction"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">Err</span><span class="c4">(ProgramError::MissingRequiredSignature);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//ensure the owner passed in is the actual owner of the token account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;!(src_token_account.owner == *owner.key) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg!(</span><span class="c5">"Not the token account owner signing the transaction"</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">Err</span><span class="c4">(ProgramError::MissingRequiredSignature);<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//update values in from and to accounts, then save new contents of both accounts</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;src_token_account.amount -= amount;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dst_token_account.amount += amount;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;src_token_account.save(from_token_acct)?;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dst_token_account.save(to_token_acct)?;</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c13"></span></p><p class="c16 c11"><span class="c1">Awesome work! We’re now ready to build and deploy the program to your local Solana cluster</span></p><p class="c20 c30"><span class="c1"></span></p><p class="c6 c11"><span class="c1"></span></p><h2 class="c19" id="h.r8gk2hrnq3at"><span class="c17">Building and Deploying the Program</span></h2><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="20"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Use the following command to build the program. You should see a similar output:</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.ea1441f4cd812b4d4f10d5b64894e6d7b49bbbb9"></a><a id="t.37"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">cargo build-bpf </span><span class="c3">--manifest-path</span><span class="c4">=./Cargo.toml </span><span class="c3">--bpf-out-dir</span><span class="c4">=dist/program</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c20"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 140.00px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(13).png" style="width: 624.00px; height: 140.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="21"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Now we’re ready to deploy our program to the localnet cluster (or the Devnet public network if you’re not running a local cluster):</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.08973e75c87032cd7e70a2efe14d84b93f0739fd"></a><a id="t.38"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">solana </span><span class="c2">program</span><span class="c4">&nbsp;deploy dist/</span><span class="c2">program</span><span class="c4">/token_program.so</span></p></td></tr></tbody></table><h2 class="c19" id="h.n38vkzrge2w"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 82.67px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(14).png" style="width: 624.00px; height: 82.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2><p class="c16"><span class="c1">Great work, you’ve deployed your program to your local cluster! Now let’s create a client to interact with it. </span></p><h2 class="c19" id="h.rgo940pbamae"><span class="c17">Creating the Client</span></h2><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="22"><li class="c16 c22 c11 li-bullet-0"><span class="c1">First, let's create a new folder to store all our client code. Create a new folder in VS code under your ‘token-program’ folder, and call it ‘client’</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 380.54px; height: 427.50px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(15).png" style="width: 380.54px; height: 427.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="23"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Inside the client folder, create the following files with the new file icon:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">token_program.ts</span></li><li class="c7 li-bullet-0"><span class="c1">main.ts</span></li><li class="c7 li-bullet-0"><span class="c1">utils.ts</span></li></ol><p class="c6 c29"><span class="c1"></span></p><p class="c6 c29"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 401.50px; height: 290.19px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(16).png" style="width: 401.50px; height: 290.19px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="24"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Enter the following code into main.ts. This will simply act as an entry point into the client, and then call all the functions required in the token_program file. Be sure to save your file once it’s modified.</span></li></ol><p class="c6"><span class="c1"></span></p><a id="t.6d75a596660a61c00287bd6aea3834abdbdd07ae"></a><a id="t.39"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">import</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;establishConnection,<br> &nbsp; &nbsp;establishPayer,<br> &nbsp; &nbsp;checkProgram,<br> &nbsp; &nbsp;createToken,<br> &nbsp; &nbsp;createTokenAccounts,<br> &nbsp; &nbsp;mint,<br> &nbsp; &nbsp;transfer<br> &nbsp;} </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'./token_program'</span><span class="c4">;<br><br> &nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">main</span><span class="c4">() {<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">"Let's create a token..."</span><span class="c4">);<br><br> &nbsp; &nbsp;</span><span class="c8">// Establish connection to the cluster</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;establishConnection();<br><br> &nbsp; &nbsp;</span><span class="c8">// Determine who pays for the fees</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;establishPayer();<br><br> &nbsp; &nbsp;</span><span class="c8">// Check if the program has been deployed</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;checkProgram();<br><br> &nbsp; &nbsp;</span><span class="c8">// Create the master token</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;createToken();<br><br> &nbsp; &nbsp;</span><span class="c8">// Create two accounts to mint and receive tokens</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;createTokenAccounts();<br><br> &nbsp; &nbsp;</span><span class="c8">// mint some tokens to one of the two accounts</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;mint();<br><br> &nbsp; &nbsp;</span><span class="c8">// Send some tokens from the account that recieved the mint to the second account</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;transfer();<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Success'</span><span class="c4">);<br> &nbsp;}<br><br> &nbsp;main().then(<br> &nbsp; &nbsp;() =&gt; process.exit(),<br> &nbsp; &nbsp;err =&gt; {<br> &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.error(err);<br> &nbsp; &nbsp; &nbsp;process.exit(</span><span class="c0">-1</span><span class="c4">);<br> &nbsp; &nbsp;},<br> &nbsp;);</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="25"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Next, enter the following code into utils.ts. These helper functions will be used to get config stored locally, get the RPC URL required to connect to a cluster, as well as generate a new keypair to be used for interacting with the deployed program. Be sure to save your file once it’s modified.</span></li></ol><p class="c6 c11"><span class="c1"></span></p><p class="c16 c11"><span>Note: If you aren’t running a local validator and are deploying to the public Devnet, please replace the ‘</span><span class="c25">http://127.0.0.1:8899</span><span>’ string in the getRpcUrl() function with ‘</span><span class="c25">https://api.devnet.solana.com</span><span class="c1">’</span></p><p class="c6"><span class="c1"></span></p><a id="t.d1e4b342dca1cf27b64ab1fae0282c30c9528d42"></a><a id="t.40"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">import</span><span class="c4">&nbsp;os </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'os'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;fs </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'mz/fs'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;path </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'path'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;yaml </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'yaml'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{Keypair} </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'@solana/web3.js'</span><span class="c4">;<br><br></span><span class="c8">/**<br> * @private<br> */</span><span class="c4"><br></span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getConfig</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">any</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c8">// Path to Solana CLI config file</span><span class="c4"><br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;CONFIG_FILE_PATH = path.resolve(<br> &nbsp; &nbsp;os.homedir(),<br> &nbsp; &nbsp;</span><span class="c5">'.config'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'solana'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'cli'</span><span class="c4">,<br> &nbsp; &nbsp;</span><span class="c5">'config.yml'</span><span class="c4">,<br> &nbsp;);<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;configYml = </span><span class="c2">await</span><span class="c4">&nbsp;fs.readFile(CONFIG_FILE_PATH, {encoding: </span><span class="c5">'utf8'</span><span class="c4">});<br> &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;yaml.parse(configYml);<br>}<br><br></span><span class="c8">/**<br> * Load and parse the Solana CLI config file to determine which RPC url to use<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getRpcUrl</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">string</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c5">'http://127.0.0.1:8899'</span><span class="c4">;<br>}<br><br></span><span class="c8">/**<br> * Load and parse the Solana CLI config file to determine which payer to use<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getPayer</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">Keypair</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c2">try</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;config = </span><span class="c2">await</span><span class="c4">&nbsp;getConfig();<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!config.keypair_path) </span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">'Missing keypair path'</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;createKeypairFromFile(config.keypair_path);<br> &nbsp;} </span><span class="c2">catch</span><span class="c4">&nbsp;(err) {<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.warn(<br> &nbsp; &nbsp; &nbsp;</span><span class="c5">'Failed to create keypair from CLI config file, falling back to new random keypair'</span><span class="c4">,<br> &nbsp; &nbsp;);<br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;Keypair.generate();<br> &nbsp;}<br>}<br><br></span><span class="c8">/**<br> * Create a Keypair from a secret key stored in file as bytes' array<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createKeypairFromFile</span><span class="c4">(<br> &nbsp;filePath: string,<br>): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">Keypair</span><span class="c4">&gt; {<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;secretKeyString = </span><span class="c2">await</span><span class="c4">&nbsp;fs.readFile(filePath, {encoding: </span><span class="c5">'utf8'</span><span class="c4">});<br> &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;secretKey = </span><span class="c3">Uint8Array</span><span class="c4">.from(</span><span class="c3">JSON</span><span class="c4">.parse(secretKeyString));<br> &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;Keypair.fromSecretKey(secretKey);<br>}</span></p></td></tr></tbody></table><p class="c16 c11"><span class="c1">&nbsp;</span></p><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="26"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Lastly, enter the following code into your token_program.ts. Be sure to save your file once it’s modified. This is the main part of the client, and performs the following functionality:</span></li></ol><ol class="c14 lst-kix_nxqzz6tm7zah-1 start" start="1"><li class="c7 li-bullet-0"><span class="c1">Establishes a connection to the cluster</span></li><li class="c7 li-bullet-0"><span class="c1">Establishes which account will be paying for the generated transactions</span></li><li class="c7 li-bullet-0"><span class="c1">Ensures the token program has been deployed to the cluster</span></li><li class="c7 li-bullet-0"><span class="c1">Creates a new master token</span></li><li class="c7 li-bullet-0"><span class="c1">Creates two accounts and associated token accounts to be used for minting and sending tokens</span></li><li class="c7 li-bullet-0"><span class="c1">Mints some tokens to a specified token account</span></li><li class="c7 li-bullet-0"><span class="c1">Transfers some tokens from one token account to another</span></li></ol><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><a id="t.d257951ec364d60175443b348d05b098ff9ba425"></a><a id="t.41"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c2">import</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;Keypair,<br> &nbsp; &nbsp;Connection,<br> &nbsp; &nbsp;PublicKey,<br> &nbsp; &nbsp;LAMPORTS_PER_SOL,<br> &nbsp; &nbsp;SystemProgram,<br> &nbsp; &nbsp;TransactionInstruction,<br> &nbsp; &nbsp;Transaction,<br> &nbsp; &nbsp;sendAndConfirmTransaction,<br>} </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'@solana/web3.js'</span><span class="c4">;<br><br></span><span class="c2">import</span><span class="c4">&nbsp;fs </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'mz/fs'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;path </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'path'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;* </span><span class="c2">as</span><span class="c4">&nbsp;borsh </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'borsh'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{ Buffer } </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'buffer'</span><span class="c4">;<br></span><span class="c2">import</span><span class="c4">&nbsp;{ getPayer, getRpcUrl, createKeypairFromFile } </span><span class="c2">from</span><span class="c4">&nbsp;</span><span class="c5">'./utils'</span><span class="c4">;<br><br></span><span class="c8">/**<br> * Connection to the network<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;connection: Connection;<br><br></span><span class="c8">/**<br> * Keypair associated to the fees' payer<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;payer: Keypair;<br><br></span><span class="c8">/**<br> * Token program id<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;programId: PublicKey;<br><br></span><span class="c8">/**<br> * The public key of the account that stores the token info<br> */</span><span class="c4"><br></span><span class="c2">let</span><span class="c4">&nbsp;tokenPubkey: PublicKey;<br></span><span class="c2">let</span><span class="c4">&nbsp;tokenFromAccountPubkey: PublicKey;<br></span><span class="c2">let</span><span class="c4">&nbsp;tokenToAccountPubkey: PublicKey;<br></span><span class="c2">let</span><span class="c4">&nbsp;tokenAccountPubkey: PublicKey;<br><br></span><span class="c8">/**<br> * Path to program files<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_PATH = path.resolve(__dirname, </span><span class="c5">'../dist/program'</span><span class="c4">);<br><br></span><span class="c8">/**<br> * Path to program shared object file which should be deployed on chain.<br> * This file is created when running either:<br> * &nbsp; - `npm run build:program-c`<br> * &nbsp; - `npm run build:program-rust`<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_SO_PATH = path.join(PROGRAM_PATH, </span><span class="c5">'token_program.so'</span><span class="c4">);<br><br></span><span class="c8">/**<br> * Path to the keypair of the deployed program.<br> * This file is created when running `solana program deploy dist/program/gm_program.so`<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;PROGRAM_KEYPAIR_PATH = path.join(PROGRAM_PATH, </span><span class="c5">'token_program-keypair.json'</span><span class="c4">);<br><br></span><span class="c2">const</span><span class="c4">&nbsp;TOKEN_NAME = </span><span class="c5">'GLASS_COIN'</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;FROM_ACCT_SEED=</span><span class="c5">'FROM_ACCT_SEED'</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;TO_ACCT_SEED=</span><span class="c5">'TO_ACCT_SEED'</span><span class="c4"><br><br></span><span class="c8">/**<br> * Borsh class and schema definition for accounts<br> */</span><span class="c4"><br><br><br> </span><span class="c2">class</span><span class="c4">&nbsp;</span><span class="c3">TokenInstruction</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;instruction = </span><span class="c0">0</span><span class="c4"><br> &nbsp; &nbsp;amount = </span><span class="c0">0</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">constructor</span><span class="c4">(fields: { instruction: number, amount: number } | </span><span class="c2">undefined</span><span class="c4">&nbsp;= </span><span class="c2">undefined</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fields) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.instruction = fields.instruction;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.amount = fields.amount;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">static</span><span class="c4">&nbsp;schema = </span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Map</span><span class="c4">([[TokenInstruction,<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kind: </span><span class="c5">'struct'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fields: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'instruction'</span><span class="c4">, </span><span class="c5">'u8'</span><span class="c4">],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'amount'</span><span class="c4">, </span><span class="c5">'u64'</span><span class="c4">]]<br> &nbsp; &nbsp; &nbsp; &nbsp;}]]);<br>}<br><br></span><span class="c2">class</span><span class="c4">&nbsp;</span><span class="c3">TokenInstructionNoAmount</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;instruction = </span><span class="c0">0</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">constructor</span><span class="c4">(fields: { instruction: number } | </span><span class="c2">undefined</span><span class="c4">&nbsp;= </span><span class="c2">undefined</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fields) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.instruction = fields.instruction;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">static</span><span class="c4">&nbsp;schema = </span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Map</span><span class="c4">([[TokenInstructionNoAmount,<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kind: </span><span class="c5">'struct'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fields: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'instruction'</span><span class="c4">, </span><span class="c5">'u8'</span><span class="c4">]]<br> &nbsp; &nbsp; &nbsp; &nbsp;}]]);<br>}<br><br></span><span class="c2">class</span><span class="c4">&nbsp;</span><span class="c3">Token</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;authority = [</span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">]<br> &nbsp; &nbsp;supply = </span><span class="c0">0</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">constructor</span><span class="c4">(fields: { authority: [</span><span class="c0">32</span><span class="c4">], supply: number } | </span><span class="c2">undefined</span><span class="c4">&nbsp;= </span><span class="c2">undefined</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fields) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.authority = fields.authority;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.supply = fields.supply;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">static</span><span class="c4">&nbsp;schema = </span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Map</span><span class="c4">([[Token,<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kind: </span><span class="c5">'struct'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fields: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'authority'</span><span class="c4">, [</span><span class="c0">32</span><span class="c4">]],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'supply'</span><span class="c4">, </span><span class="c5">'u64'</span><span class="c4">]]<br> &nbsp; &nbsp; &nbsp; &nbsp;}]]);<br>}<br><br><br></span><span class="c2">class</span><span class="c4">&nbsp;</span><span class="c3">TokenAccount</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp;owner = [</span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">]<br> &nbsp; &nbsp;token = [</span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">, </span><span class="c0">0</span><span class="c4">]<br> &nbsp; &nbsp;amount = </span><span class="c0">0</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">constructor</span><span class="c4">(fields: { owner: [</span><span class="c0">32</span><span class="c4">], token: [</span><span class="c0">32</span><span class="c4">], amount: number } | </span><span class="c2">undefined</span><span class="c4">&nbsp;= </span><span class="c2">undefined</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fields) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.owner = fields.owner;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.token = fields.token;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">this</span><span class="c4">.amount = fields.amount;<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c2">static</span><span class="c4">&nbsp;schema = </span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Map</span><span class="c4">([[TokenAccount,<br> &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;kind: </span><span class="c5">'struct'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fields: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'owner'</span><span class="c4">, [</span><span class="c0">32</span><span class="c4">]],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'token'</span><span class="c4">, [</span><span class="c0">32</span><span class="c4">]],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[</span><span class="c5">'amount'</span><span class="c4">, </span><span class="c5">'u64'</span><span class="c4">]]<br> &nbsp; &nbsp; &nbsp; &nbsp;}]]);<br>}<br><br></span><span class="c8">/**<br> * The expected size of each greeting account. Used for creating the buffer<br> */</span><span class="c4"><br></span><span class="c2">const</span><span class="c4">&nbsp;NEW_TOKEN_SIZE = borsh.serialize(<br> &nbsp; &nbsp;Token.schema,<br> &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Token())<br> &nbsp; &nbsp;.length;<br><br></span><span class="c2">const</span><span class="c4">&nbsp;TOKEN_ACCOUNT_SIZE = borsh.serialize(<br> &nbsp; &nbsp;TokenAccount.schema,<br> &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;TokenAccount())<br> &nbsp; &nbsp;.length;<br><br></span><span class="c8">/**<br> * Establish a connection to the cluster<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">establishConnection</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'getting connection'</span><span class="c4">)<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;rpcUrl = </span><span class="c2">await</span><span class="c4">&nbsp;getRpcUrl();<br> &nbsp; &nbsp;connection = </span><span class="c2">new</span><span class="c4">&nbsp;Connection(rpcUrl, </span><span class="c5">'confirmed'</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;version = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getVersion();<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Connection to cluster established:'</span><span class="c4">, rpcUrl, version);<br>}<br><br></span><span class="c8">/**<br> * Establish an account to pay for creating the new token and performing transactions<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">establishPayer</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;fees = </span><span class="c0">0</span><span class="c4">;<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!payer) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;{ feeCalculator } = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getRecentBlockhash();<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// Calculate the cost to fund the greeter account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;fees += </span><span class="c2">await</span><span class="c4">&nbsp;connection.getMinimumBalanceForRentExemption(NEW_TOKEN_SIZE);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// Calculate the cost of sending transactions</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;fees += feeCalculator.lamportsPerSignature * </span><span class="c0">100</span><span class="c4">; </span><span class="c8">// wag</span><span class="c4"><br><br> &nbsp; &nbsp; &nbsp; &nbsp;payer = </span><span class="c2">await</span><span class="c4">&nbsp;getPayer();<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getBalance(payer.publicKey);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(lamports &lt; fees) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// If current balance is not enough to pay for fees, request an airdrop</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;sig = </span><span class="c2">await</span><span class="c4">&nbsp;connection.requestAirdrop(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fees - lamports,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;connection.confirmTransaction(sig);<br> &nbsp; &nbsp; &nbsp; &nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getBalance(payer.publicKey);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Using account'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey.toBase58(),<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'containing'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;lamports / LAMPORTS_PER_SOL,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'SOL to pay for fees'</span><span class="c4">,<br> &nbsp; &nbsp;);<br>}<br><br></span><span class="c8">/**<br> * Check if the token BPF program has been deployed<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">checkProgram</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c8">// Read program id from keypair file</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">try</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;programKeypair = </span><span class="c2">await</span><span class="c4">&nbsp;createKeypairFromFile(PROGRAM_KEYPAIR_PATH);<br> &nbsp; &nbsp; &nbsp; &nbsp;programId = programKeypair.publicKey;<br> &nbsp; &nbsp;} </span><span class="c2">catch</span><span class="c4">&nbsp;(err) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;errMsg = (err </span><span class="c2">as</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">).message;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">`Failed to read program keypair at '${PROGRAM_KEYPAIR_PATH}' due to error: ${errMsg}. Program may need to be deployed with \`solana program deploy dist/program/token_program.so\``</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c8">// Check if the program has been deployed</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;programInfo = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(programId);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(programInfo === </span><span class="c2">null</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(fs.existsSync(PROGRAM_SO_PATH)) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Program needs to be deployed with `solana program deploy dist/program/token_program.so`'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">'Program needs to be built and deployed'</span><span class="c4">);<br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(!programInfo.executable) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">throw</span><span class="c4">&nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;</span><span class="c3">Error</span><span class="c4">(</span><span class="c5">`Program is not executable`</span><span class="c4">);<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">`Using program ${programId.toBase58()}`</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'-----------------------------------------------------------------------------------------------------------------'</span><span class="c4">)<br>}<br><br></span><span class="c8">/**<br> * Say GM<br> */</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createToken</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c8">// First we'll check to see if the master token account has been created aready, and if not we'll create it</span><span class="c4"><br> &nbsp; &nbsp;tokenPubkey = </span><span class="c2">await</span><span class="c4">&nbsp;PublicKey.createWithSeed(<br> &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp;TOKEN_NAME,<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp;);<br><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;masterTokenAccount = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(tokenPubkey);<br><br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(masterTokenAccount === </span><span class="c2">null</span><span class="c4">) {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//master token doesn't exist, create it</span><span class="c4"><br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'Creating account'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tokenPubkey.toBase58(),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c5">'for our new token'</span><span class="c4">,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;lamports = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getMinimumBalanceForRentExemption(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;NEW_TOKEN_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;transaction = </span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SystemProgram.createAccountWithSeed({<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fromPubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;basePubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;seed: TOKEN_NAME,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;newAccountPubkey: tokenPubkey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lamports,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space: NEW_TOKEN_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}),<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(connection, transaction, [payer]);<br><br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Creating token '</span><span class="c4">, TOKEN_NAME, </span><span class="c5">' with key '</span><span class="c4">, tokenPubkey.toBase58());<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">// Create new master token</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//first we serialize the name data.</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;tokenInstruction = </span><span class="c2">new</span><span class="c4">&nbsp;TokenInstructionNoAmount({ </span><span class="c5">"instruction"</span><span class="c4">: </span><span class="c0">0</span><span class="c4">}) </span><span class="c8">//instruction is 0 (create token)</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;data = borsh.serialize(TokenInstructionNoAmount.schema, tokenInstruction);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;dataBuffer = Buffer.from(data)<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//now we generate the instruction</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;instruction = </span><span class="c2">new</span><span class="c4">&nbsp;TransactionInstruction({<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;keys: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: payer.publicKey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">false</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;data: dataBuffer<br> &nbsp; &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(instruction),<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Token successfully created at address '</span><span class="c4">, tokenPubkey.toBase58())<br><br> &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Master Token already created at address '</span><span class="c4">, tokenPubkey.toBase58())<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'-----------------------------------------------------------------------------------------------------------------'</span><span class="c4">)<br>}<br><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createNewKeyPair</span><span class="c4">(seed: string): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">PublicKey</span><span class="c4">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Creating new keypair for seed: '</span><span class="c4">, seed);<br><br> &nbsp; &nbsp;</span><span class="c8">//first we create the account and see if it exists already on-chain</span><span class="c4"><br> &nbsp; &nbsp;tokenAccountPubkey = </span><span class="c2">await</span><span class="c4">&nbsp;PublicKey.createWithSeed(<br> &nbsp; &nbsp; &nbsp; &nbsp;payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp;seed,<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp;);<br><br> &nbsp; &nbsp;</span><span class="c8">//only create account if it doesn't already exist</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;tokenAcct = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(tokenAccountPubkey);<br> &nbsp; &nbsp;</span><span class="c2">if</span><span class="c4">&nbsp;(tokenAcct === </span><span class="c2">null</span><span class="c4">) {<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;lamportsTokenAccount = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getMinimumBalanceForRentExemption(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TOKEN_ACCOUNT_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//build up the instruction to create the account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;transaction = </span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SystemProgram.createAccountWithSeed({<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;fromPubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;basePubkey: payer.publicKey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;seed: seed,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;newAccountPubkey: tokenAccountPubkey,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;lamports: lamportsTokenAccount,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;space: TOKEN_ACCOUNT_SIZE,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}),<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;transaction,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp; &nbsp; &nbsp;);<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'created account for Public Key '</span><span class="c4">, tokenAccountPubkey.toBase58())<br><br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8">//now that we've created the account, we can register is as a token account</span><span class="c4"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;createTokenAccount(tokenAccountPubkey)<br><br> &nbsp; &nbsp;} </span><span class="c2">else</span><span class="c4">&nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Token Account '</span><span class="c4">, tokenAccountPubkey.toBase58(), </span><span class="c5">' already exists, skipping creation'</span><span class="c4">)<br> &nbsp; &nbsp;}<br><br><br> &nbsp; &nbsp;</span><span class="c2">return</span><span class="c4">&nbsp;tokenAccountPubkey<br>}<br><br><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createTokenAccounts</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c8">//first we need to create two public keys for the from and to accounts</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Creating from and to accounts for token '</span><span class="c4">, tokenPubkey.toBase58());<br> &nbsp; &nbsp;tokenFromAccountPubkey = </span><span class="c2">await</span><span class="c4">&nbsp;createNewKeyPair(FROM_ACCT_SEED)<br> &nbsp; &nbsp;tokenToAccountPubkey = </span><span class="c2">await</span><span class="c4">&nbsp;createNewKeyPair(TO_ACCT_SEED)<br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'-----------------------------------------------------------------------------------------------------------------'</span><span class="c4">)<br>}<br><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">createTokenAccount</span><span class="c4">(tokenKey: PublicKey): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br><br> &nbsp; &nbsp;</span><span class="c8">//first we serialize the instruction data</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;tokenInstruction = </span><span class="c2">new</span><span class="c4">&nbsp;TokenInstructionNoAmount({ </span><span class="c5">"instruction"</span><span class="c4">: </span><span class="c0">1</span><span class="c4">&nbsp;}) &nbsp;</span><span class="c8">//1 = create token account</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;data = borsh.serialize(TokenInstructionNoAmount.schema, tokenInstruction);<br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;dataBuffer = Buffer.from(data)<br><br> &nbsp; &nbsp;</span><span class="c8">//now we build up the instruction</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;instruction = </span><span class="c2">new</span><span class="c4">&nbsp;TransactionInstruction({<br> &nbsp; &nbsp; &nbsp; &nbsp;keys: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenKey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: payer.publicKey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">false</span><span class="c4">&nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp;data: dataBuffer<br> &nbsp; &nbsp;});<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(instruction),<br> &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp;);<br><br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Token Account created for '</span><span class="c4">, tokenKey.toBase58())<br>}<br><br><br><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">mint</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;MINT_AMOUNT = </span><span class="c0">100</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Minting '</span><span class="c4">, MINT_AMOUNT, </span><span class="c5">'tokens of '</span><span class="c4">, TOKEN_NAME, </span><span class="c5">' with key '</span><span class="c4">, tokenPubkey.toBase58(), </span><span class="c5">' to account '</span><span class="c4">, tokenFromAccountPubkey.toBase58());<br><br> &nbsp; &nbsp;</span><span class="c8">//first we serialize the instruction data</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;tokenMintInstruction = </span><span class="c2">new</span><span class="c4">&nbsp;TokenInstruction({ </span><span class="c5">"instruction"</span><span class="c4">: </span><span class="c0">2</span><span class="c4">, </span><span class="c5">"amount"</span><span class="c4">: MINT_AMOUNT }) &nbsp;</span><span class="c8">//2 = mint tokens to account</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;data = borsh.serialize(TokenInstruction.schema, tokenMintInstruction);<br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;dataBuffer = Buffer.from(data)<br><br><br> &nbsp; &nbsp;</span><span class="c8">//now we build up the instruction</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;instruction = </span><span class="c2">new</span><span class="c4">&nbsp;TransactionInstruction({<br> &nbsp; &nbsp; &nbsp; &nbsp;keys: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenFromAccountPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: payer.publicKey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">false</span><span class="c4">&nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp;data: dataBuffer<br> &nbsp; &nbsp;});<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(instruction),<br> &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp;);<br><br><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'getting account info for '</span><span class="c4">, tokenFromAccountPubkey.toBase58())<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;getAccountTokenInfo(tokenFromAccountPubkey)<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'-----------------------------------------------------------------------------------------------------------------'</span><span class="c4">)<br>}<br><br><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">transfer</span><span class="c4">(): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;TRANSFER_AMOUNT = </span><span class="c0">5</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'Transferring'</span><span class="c4">, TRANSFER_AMOUNT, </span><span class="c5">'of'</span><span class="c4">, tokenPubkey.toBase58(), </span><span class="c5">'tokens from'</span><span class="c4">, tokenFromAccountPubkey.toBase58(), </span><span class="c5">'to'</span><span class="c4">, tokenToAccountPubkey.toBase58());<br><br> &nbsp; &nbsp;</span><span class="c8">//first we serialize the instruction data</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;tokenTransferInstruction = </span><span class="c2">new</span><span class="c4">&nbsp;TokenInstruction({ </span><span class="c5">"instruction"</span><span class="c4">: </span><span class="c0">3</span><span class="c4">, </span><span class="c5">"amount"</span><span class="c4">: TRANSFER_AMOUNT }) &nbsp;</span><span class="c8">//3 = transfer tokens</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;data = borsh.serialize(TokenInstruction.schema, tokenTransferInstruction);<br> &nbsp; &nbsp;</span><span class="c2">let</span><span class="c4">&nbsp;dataBuffer = Buffer.from(data)<br><br><br> &nbsp; &nbsp;</span><span class="c8">//now we build up the instruction</span><span class="c4"><br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;instruction = </span><span class="c2">new</span><span class="c4">&nbsp;TransactionInstruction({<br> &nbsp; &nbsp; &nbsp; &nbsp;keys: [<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenFromAccountPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: tokenToAccountPubkey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">true</span><span class="c4">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{ pubkey: payer.publicKey, isSigner: </span><span class="c2">false</span><span class="c4">, isWritable: </span><span class="c2">false</span><span class="c4">&nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp;programId,<br> &nbsp; &nbsp; &nbsp; &nbsp;data: dataBuffer<br> &nbsp; &nbsp;});<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;sendAndConfirmTransaction(<br> &nbsp; &nbsp; &nbsp; &nbsp;connection,<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c2">new</span><span class="c4">&nbsp;Transaction().add(instruction),<br> &nbsp; &nbsp; &nbsp; &nbsp;[payer],<br> &nbsp; &nbsp;);<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;getAccountTokenInfo(tokenFromAccountPubkey)<br> &nbsp; &nbsp;</span><span class="c2">await</span><span class="c4">&nbsp;getAccountTokenInfo(tokenToAccountPubkey)<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'-----------------------------------------------------------------------------------------------------------------'</span><span class="c4">)<br><br>}<br><br></span><span class="c8">// Helper function to print the balance of a token account</span><span class="c4"><br></span><span class="c2">export</span><span class="c4">&nbsp;</span><span class="c2">async</span><span class="c4">&nbsp;</span><span class="c2">function</span><span class="c4">&nbsp;</span><span class="c3">getAccountTokenInfo</span><span class="c4">(account: PublicKey): </span><span class="c3">Promise</span><span class="c4">&lt;</span><span class="c3">void</span><span class="c4">&gt; {<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;acct = </span><span class="c2">await</span><span class="c4">&nbsp;connection.getAccountInfo(account, </span><span class="c5">'processed'</span><span class="c4">);<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;data = Buffer.from(acct!.data);<br> &nbsp; &nbsp;</span><span class="c2">const</span><span class="c4">&nbsp;accountInfo = borsh.deserializeUnchecked(TokenAccount.schema, TokenAccount, data)<br> &nbsp; &nbsp;</span><span class="c3">console</span><span class="c4">.log(</span><span class="c5">'account info for '</span><span class="c4">, account.toBase58() + </span><span class="c5">': token address:'</span><span class="c4">, </span><span class="c2">new</span><span class="c4">&nbsp;PublicKey(accountInfo.token).toBase58(), </span><span class="c5">', balance:'</span><span class="c4">, accountInfo.amount.toString())<br>}</span></p></td></tr></tbody></table><p class="c6 c11"><span class="c1"></span></p><p class="c16 c11"><span class="c1">You’re now ready to run the client!</span></p><h2 class="c19" id="h.uqqu9vg8djre"><span class="c17">Running the Client</span></h2><ol class="c14 lst-kix_nxqzz6tm7zah-0" start="27"><li class="c16 c22 c11 li-bullet-0"><span class="c1">To run the client, you simply use the pre-defined ‘start’ npm script in the package.json file:</span></li></ol><p class="c6 c11"><span class="c1"></span></p><a id="t.f0ef7e93a0b1bd2795d879a3a702aeb0592b2bc3"></a><a id="t.42"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4">npm </span><span class="c2">run</span><span class="c4">&nbsp;start</span></p></td></tr></tbody></table><p class="c6"><span class="c1"></span></p><p class="c16 c11"><span class="c1">You should see all of the actions defined earlier in the program output. If you run the script a second time, you should see the minted tokens increase, as well as the transfer take place again. </span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 397.33px;"><img alt="" src="./Solana Developer Bootcamp_ Day 1 Exercises_files/pasted image 0(17).png" style="width: 624.00px; height: 397.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c18"><span class="c1"></span></p><p class="c16"><span class="c1">Congratulations, you’ve successfully written, deployed and interacted with a token program!</span></p><p class="c6"><span class="c1"></span></p><p class="c16"><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://github.com/pappas999/token-program&amp;sa=D&amp;source=editors&amp;ust=1655291765621697&amp;usg=AOvVaw1KUNyBtWn3_CrwojDae3YY">Completed code repository</a></span></p><h2 class="c19 c18" id="h.phkqvg9h794q"><span class="c17">Bonus Exercise: </span></h2><p class="c16 c18"><span class="c1">You can attempt to complete these exercises if you’ve completed the main exercise ahead of schedule:</span></p><p class="c6 c18"><span class="c1"></span></p><ol class="c14 lst-kix_8ysb68z6yl1o-0 start" start="1"><li class="c16 c22 c11 li-bullet-0"><span class="c1">Add a ‘burn’ instruction to the program and client. The burn function should do the exact opposite of the ‘mint’ function, it should remove tokens from the authority account, and decrement the total supply. Remember to include the required checks necessary</span></li><li class="c16 c22 c11 li-bullet-0"><span>Create a new SPL token using the actual </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://spl.solana.com/token&amp;sa=D&amp;source=editors&amp;ust=1655291765622338&amp;usg=AOvVaw2B2UCYlrqUkP-Bh14DZNFF">SPL Token program</a></span><span class="c1">&nbsp;with the Solana CLI</span></li></ol><p class="c6 c11"><span class="c13"></span></p><p class="c6 c11"><span class="c13"></span></p><h1 class="c34" id="h.t1tenf8hkqa8"><span class="c31">Appendix A:</span></h1><p class="c6"><span class="c1"></span></p><h2 class="c19" id="h.x1w7up4mqq07"><span class="c17">Common errors:</span></h2><p class="c6"><span class="c1"></span></p><p class="c16"><span>Error during compilation on a Mac, especially after upgrading to Monterey:</span><span class="c13">&nbsp;xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun </span></p><p class="c6"><span class="c13"></span></p><p class="c16"><span class="c25">Solution</span><span>: Install the </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://apple.stackexchange.com/questions/254380/why-am-i-getting-an-invalid-active-developer-path-when-attempting-to-use-git-a&amp;sa=D&amp;source=editors&amp;ust=1655291765623272&amp;usg=AOvVaw3dpfbgdCCDbf3C3etOWjkw">command line tools pacakge</a></span></p><p class="c6"><span class="c13"></span></p><p class="c6"><span class="c13"></span></p><p class="c16"><span>Error during compilation on Windows: </span><span class="c24 c23">linker `cc` not found</span></p><p class="c6"><span class="c23 c24"></span></p><p class="c16"><span class="c25">Solution</span><span>: Install the </span><span class="c26"><a class="c27" href="https://www.google.com/url?q=https://stackoverflow.com/questions/58979682/linker-cc-not-found&amp;sa=D&amp;source=editors&amp;ust=1655291765623780&amp;usg=AOvVaw1iyWUI4YP8uhdery6AuPy9">build essential tools</a></span></p><p class="c6"><span class="c24 c23"></span></p><a id="t.4632b1aeee1f64e5248db415f890615941153593"></a><a id="t.43"></a><table class="c15"><tbody><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c21"><span class="c4 c23">sudo apt </span><span class="c2 c23">install</span><span class="c4 c23">&nbsp;</span><span class="c2 c23">build</span><span class="c4 c23">-essential</span></p></td></tr></tbody></table><p class="c6"><span class="c13"></span></p><p class="c6"><span class="c42 c23"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c1"></span></p><p class="c6"><span class="c13"></span></p><div><p class="c6"><span class="c1"></span></p></div></div></div><script type="text/javascript" nonce="">(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function k(){return function(){}}var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}var l;
if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;m=ha.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=l;
function n(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.m=b.prototype}ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
ea("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(b.call(c,g,f,d)){b=g;break a}}b=void 0}return b}});var p=this||self;function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}
function ka(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.D=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}}function r(a){return a};function t(a){t[" "](a);return a}t[" "]=k();function la(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function ma(a){return la(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++na}}})}var na=1E3;function u(){}u.prototype.u=function(){return this.j||(Object.defineProperties(this,{j:{value:oa=oa+1|0,enumerable:!1}}),this.j)};u.prototype.toString=function(){var a=w(x(pa(this.constructor)))+"@";var b=(this.u()>>>0).toString(16);return a+w(b)};function y(){}n(y,u);y.prototype.h=function(a){this.g=a;qa(this,a)};function ra(a){a.g instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(a.g):a.g.stack=Error().stack)}y.prototype.toString=function(){var a=x(pa(this.constructor)),b=this.l;return null==b?a:w(a)+": "+w(b)};function sa(a){if(null!=a){var b=a.A;if(null!=b)return b}a instanceof TypeError?(b=new ta,b.l=w(a),ra(b),b.i=a,b.h(new TypeError(b)),a=b):(b=new z,b.l=w(a),ra(b),b.i=a,b.h(Error(b)),a=b);return a}
function qa(a,b){if(b instanceof Object)try{b.A=a,Object.defineProperties(b,{cause:{get:function(){return a.s&&a.s.g}}})}catch(c){}};function A(){}n(A,y);function B(){}n(B,A);function z(){}n(z,B);z.prototype.h=function(a){B.prototype.h.call(this,"__noinit__"===this.i?a:this.i)};function ta(){}n(ta,z);function ua(a,b){return"string"==typeof a?a.charCodeAt(b):a.g(b)};var oa=0;function C(){}var va,wa;n(C,u);function xa(){xa=k();wa=new D;va=new E};function D(){}n(D,C);D.prototype.toString=function(){return""};function E(){}n(E,C);E.prototype.toString=function(){return"unknown"};function w(a){return null==a?"null":a.toString()}function ya(a){return 65536<=a?w(String.fromCharCode((55296+((a-65536|0)>>10&1023)|0)&65535))+w(String.fromCharCode((56320+((a-65536|0)&1023)|0)&65535)):String.fromCharCode(a&65535)}function za(a,b){var c=b,d=a.length,e;b=ua(a,(e=c,c=c+1|0,e));var f;if(e=55296<=b&&56319>=b&&c<d)a=f=ua(a,c),e=56320<=a&&57343>=a;var g;e?g=65536+((b&1023)<<10)+(f&1023)|0:g=b;return g};function F(a,b){this.g=a;this.h=b}n(F,u);function x(a){if(0!=a.h){var b="L"+w(ma(a.g))+";";a=a.h;for(var c="",d=0;d<a;d=d+1|0)c=w(c)+"[";return w(c)+w(b)}return ma(a.g)}F.prototype.toString=function(){return"class "+w(x(this))};function pa(a){return la(a.prototype,"$$class/0",function(){return new F(a,0)})};function Aa(a){var b=a;try{var c;if(c="www.google.com"===Ba(a)){var d=Ca(a)[5];c="/url"===G(d,!0)}if(c){var e=Da(a,"q");b=e?e:Da(a,"url")}}catch(f){if(f=sa(f),!(f instanceof A))throw f.g;}return null!=b?b:""};function G(a,b){return null==a?a:b?decodeURI(a):decodeURIComponent(a)};var Ea;function Ca(a){H();a=Ea.exec(a);for(var b=[],c=0;7>=c;c=c+1|0)a.length<=c||null==a[c]?b.push(null):b.push(a[c]);return b}function Ba(a){a=Ca(a);return G(a[3],!0)}
function Da(a,b){H();var c=a.indexOf(ya(35));c=0>c?a.length:c;a:{var d=0;for(var e=b.length;0<(d=a.indexOf(b,d))&&d<c;){var f=za(a,d-1|0);if(38==f||63==f){if((d+e|0)>=a.length)break a;f=za(a,d+e|0);if(61==f||38==f||35==f)break a}d=d+(e+1)|0}d=-1}if(0>d)return null;e=a.indexOf(ya(38),d);if(0>e||e>c)e=c;d=d+(b.length+1)|0;b=Math.min(a.length,d);a=a.substr(b,Math.min(a.length,Math.max(d,e))-b|0);c=" ";for(b=0;0<=(b=c.indexOf("\\",b));)36==c.charCodeAt(b+1|0)?(d=w(c.substr(0,b|0))+"$",e=b=b+1|0,c=d+w(c.substr(e))):
(d=w(c.substr(0,b|0)),e=b=b+1|0,c=d+w(c.substr(e)));a=a.replace(RegExp("\\+","g"),c);return G(a,!1)}function H(){H=k();Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\S\\s]*))?$")};function Fa(){Fa=k();Ga||Ha()};var Ia=/&/g,Ja=/</g,Ka=/>/g,La=/"/g,Ma=/'/g,Na=/\x00/g,Oa=/[\x00&<>"']/;var Pa=null,I;I=null;function J(){var a;if(null==Pa)a:{if(a=p.navigator)if(a=a.userAgent)break a;a=""}else a=Pa;return a}function K(a){return-1!=J().indexOf(a)};function Qa(){var a=I;return!!a&&0<a.brands.length}function Ra(a){a.forEach(k())}function Sa(){for(var a=J(),b=RegExp("([A-Z][\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);Ra(c)}function Ha(){Qa()?I.brands.find(function(a){return"Firefox"===a.brand}):Sa()};var Ta=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Ua=Qa()?!1:K("Trident")||K("MSIE"),Va=K("Edge")||Ua,Wa=K("Gecko")&&!(-1!=J().toLowerCase().indexOf("webkit")&&!K("Edge"))&&!(K("Trident")||K("MSIE"))&&!K("Edge"),Ga=-1!=J().toLowerCase().indexOf("webkit")&&!K("Edge"),Xa=I,Ya=Xa&&Xa.platform?"macOS"===I.platform:K("Macintosh");function Za(a){a&&"function"==typeof a.v&&a.v()};function L(){this.h=this.h;this.g=this.g}L.prototype.h=!1;L.prototype.v=function(){this.h||(this.h=!0,this.j())};L.prototype.j=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function $a(a,b,c){for(var d in a)b.call(c,a[d],d,a)};var M;function N(a,b){this.i=a===ab&&b||"";this.j=bb}N.prototype.h=!0;N.prototype.g=function(){return this.i};var bb={},ab={};function O(a,b){this.i=b===P?a:""}O.prototype.toString=function(){return this.i.toString()};O.prototype.h=!0;O.prototype.g=function(){return this.i.toString()};function Q(a){return a instanceof O&&a.constructor===O?a.i:"type_error:SafeUrl"}var cb=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,db=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function eb(a){if(a instanceof O)return a;a="object"==typeof a&&a.h?a.g():String(a);db.test(a)||(a="about:invalid#zClosurez");return new O(a,P)}
var P={},fb=new O("about:invalid#zClosurez",P);var gb={};function R(a,b,c){this.i=c===gb?a:"";this.h=!0}R.prototype.g=function(){return this.i.toString()};R.prototype.toString=function(){return this.i.toString()};function hb(a,b,c,d){a=a instanceof O?a:eb(a);b=b||p;c=c instanceof N?c instanceof N&&c.constructor===N&&c.j===bb?c.i:"type_error:Const":c||"";return void 0!==d?b.open(Q(a),c,d):b.open(Q(a),c)};function S(a,b){this.type=a;this.target=b;this.i=!1}S.prototype.g=function(){this.i=!0};var ib=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",k(),b),p.removeEventListener("test",k(),b)}catch(c){}return a}();function T(a){S.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.h=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var d=a.relatedTarget;if(d){if(Wa){a:{try{t(d.nodeName);var e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:jb[a.pointerType]||"";this.state=a.state;this.h=a;a.defaultPrevented&&T.m.g.call(this)}}ka(T,S);var jb={2:"touch",3:"pen",4:"mouse"};T.prototype.g=function(){T.m.g.call(this);var a=this.h;a.preventDefault?a.preventDefault():a.returnValue=!1};var U="closure_listenable_"+(1E6*Math.random()|0);var kb=0;function lb(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.h=e;this.key=++kb;this.g=this.o=!1}function mb(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function V(a){this.src=a;this.g={};this.h=0}V.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!d&&h.h==e)break a}g=-1}-1<g?(b=a[g],c||(b.o=!1)):(b=new lb(b,this.src,f,!!d,e),b.o=c,a.push(b));return b};var nb="closure_lm_"+(1E6*Math.random()|0),ob={},pb=0;function qb(a,b,c,d,e){if(d&&d.once)return rb(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)qb(a,b[f],c,d,e);return null}c=sb(c);return a&&a[U]?a.g(b,c,q(d)?!!d.capture:!!d,e):tb(a,b,c,!1,d,e)}
function tb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=q(e)?!!e.capture:!!e,h=ub(a);h||(a[nb]=h=new V(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=vb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)ib||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(wb(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");pb++;return c}
function vb(){function a(c){return b.call(a.src,a.listener,c)}var b=xb;return a}function rb(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)rb(a,b[f],c,d,e);return null}c=sb(c);return a&&a[U]?a.h(b,c,q(d)?!!d.capture:!!d,e):tb(a,b,c,!0,d,e)}
function yb(a){if("number"!==typeof a&&a&&!a.g){var b=a.src;if(b&&b[U])b.i(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(wb(c),d):b.addListener&&b.removeListener&&b.removeListener(d);pb--;if(c=ub(b)){d=a.type;if(d in c.g){var e=c.g[d],f=Ta(e,a),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);g&&(mb(a),0==c.g[d].length&&(delete c.g[d],c.h--))}0==c.h&&(c.src=null,b[nb]=null)}else mb(a)}}}
function wb(a){return a in ob?ob[a]:ob[a]="on"+a}function xb(a,b){if(a.g)a=!0;else{b=new T(b,this);var c=a.listener,d=a.h||a.src;a.o&&yb(a);a=c.call(d,b)}return a}function ub(a){a=a[nb];return a instanceof V?a:null}var zb="__closure_events_fn_"+(1E9*Math.random()>>>0);function sb(a){if("function"===typeof a)return a;a[zb]||(a[zb]=function(b){return a.handleEvent(b)});return a[zb]};function W(a){L.call(this);this.l=a;this.i={}}ka(W,L);var Ab=[];function Bb(a){$a(a.i,function(b,c){this.i.hasOwnProperty(c)&&yb(b)},a);a.i={}}W.prototype.j=function(){W.m.j.call(this);Bb(this)};W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Cb(a,b,c,d){b=void 0===b?!1:b;c=void 0===c?!1:c;d=void 0===d?"editors":d;L.call(this);this.i=a||document.body;this.s=!!b;this.u=!!c;this.B=d;this.l=new W(this);a=ja(Za,this.l);this.h?a():(this.g||(this.g=[]),this.g.push(a));a=this.l;b=this.i;c=this.C;d="click";Array.isArray(d)||(d&&(Ab[0]=d.toString()),d=Ab);for(var e=0;e<d.length;e++){var f=qb(b,d[e],c||a.handleEvent,!1,a.l||a);if(!f)break;a.i[f.key]=f}}n(Cb,L);
Cb.prototype.C=function(a){if(!(0!=a.h.button||Ya&&a.ctrlKey||a.i))for(var b=a.target;b&&b!=this.i;){if(b.tagName&&"a"==b.tagName.toLowerCase()){var c=b.getAttribute("href")||b.getAttributeNS("http://www.w3.org/1999/xlink","href"),d=Aa(c);if(c!=d){a:{b=void 0;Fa();try{b=Ba(d)}catch(v){v=sa(v);if(v instanceof A){b=!1;break a}throw v.g;}var e;if(e=null!=b){e=(xa(),wa);var f=va;b=Object.is(e,f)||null==e&&null==f?b.toLocaleLowerCase():b.toLowerCase();e=".google.com"===b.substr(b.length-11|0,11)}b=e}if(!b)if(this.u){c=
Aa(d);if(Object.is(c,d)||null==c&&null==d)d="//www.google.com/url?q="+w(encodeURIComponent(d)),d=w(d)+"&sa=D";d+="&source="+this.B}else d=this.s?c:d;var g=d;b=void 0;c={target:"_blank",noreferrer:!0};d=window;g instanceof O?e=g:(e="undefined"!=typeof g.href?g.href:String(g),e instanceof O||(e="object"==typeof e&&e.h?e.g():String(e),db.test(e)?e=new O(e,P):(e=String(e),e=e.replace(/(%0A|%0D)/g,""),e=e.match(cb)?new O(e,P):null)),e=e||fb);var h=void 0!==self.crossOriginIsolated;f="strict-origin-when-cross-origin";
window.Request&&(f=(new Request("/")).referrerPolicy);var Eb="unsafe-url"===f;f=c.noreferrer;if(h&&f){if(Eb)throw Error("Cannot use the noreferrer option on a page that sets a referrer-policy of `unsafe-url` in modern browsers!");f=!1}g=c.target||g.target;h=[];for(b in c)switch(b){case "width":case "height":case "top":case "left":h.push(b+"="+c[b]);break;case "target":case "noopener":case "noreferrer":break;default:h.push(b+"="+(c[b]?1:0))}b=h.join(",");if((K("iPhone")&&!K("iPod")&&!K("iPad")||K("iPad")||
K("iPod"))&&d.navigator&&d.navigator.standalone&&g&&"_self"!=g)c="A",b=document,c=String(c),"application/xhtml+xml"===b.contentType&&(c=c.toLowerCase()),b=c=b.createElement(c),e=e instanceof O?e:eb(e),b.href=Q(e),c.target=g,f&&(c.rel="noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,d,1),c.dispatchEvent(b);else if(f){if(d=hb("",d,g,b),c=Q(e),d){Va&&-1!=c.indexOf(";")&&(c="'"+c.replace(/'/g,"%27")+"'");d.opener=null;""===c&&(c="javascript:''");Oa.test(c)&&(-1!=c.indexOf("&")&&
(c=c.replace(Ia,"&amp;")),-1!=c.indexOf("<")&&(c=c.replace(Ja,"&lt;")),-1!=c.indexOf(">")&&(c=c.replace(Ka,"&gt;")),-1!=c.indexOf('"')&&(c=c.replace(La,"&quot;")),-1!=c.indexOf("'")&&(c=c.replace(Ma,"&#39;")),-1!=c.indexOf("\x00")&&(c=c.replace(Na,"&#0;")));c='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+c+'">';if(void 0===M)if(b=null,(e=p.trustedTypes)&&e.createPolicy){try{b=e.createPolicy("goog#html",{createHTML:r,createScript:r,createScriptURL:r})}catch(v){p.console&&
p.console.error(v.message)}M=b}else M=b;c=(b=M)?b.createHTML(c):c;c=new R(c,null,gb);(d=d.document)&&d.write&&(d.write(c instanceof R&&c.constructor===R?c.i:"type_error:SafeHtml"),d.close())}}else(d=hb(e,d,g,b))&&c.noopener&&(d.opener=null);a.g();break}}b=b.parentNode}};function Db(a,b,c,d){new Cb(a,void 0===b?!1:b,void 0===c?!1:c,d)}var X=["DOCS_installLinkReferrerSanitizer"],Y=p;X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);
for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Db?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Db;}).call(this);
</script><script type="text/javascript" nonce="">DOCS_installLinkReferrerSanitizer( undefined,  true,  true, 'docs');</script></body></html>